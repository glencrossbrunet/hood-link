

/* Copyright Plotly Inc. 
All material herein is subject to copyright and 1-year license terms as described at 
https://plot.ly/licensing. Using or modifying this file is strictly prohibited without
purchasing a license or receiving written permission from Plotly Inc */


(function(){if(!window.Plotly){window.Plotly={}}var M=Plotly.Plots={};function E(){}function A(V,T){if(V in window.Plotly){return }var W={};for(var U=0;U<T.length;U++){W[T[U]]=E}window.Plotly[V]=W}A("Annotations",["add","allArrowheads","draw","drawAll"]);A("Axes",["setTypes","convertOne","convertToNums","setConvert","doAutoRange","expand","autoBin","autoTicks","tickIncrement","tickFirst","tickText","doTicks"]);A("Bars",["calc","plot","setPositions"]);A("Boxes",["calc","plot","setPositions","style"]);A("Drawing",["rgb","opacity","addOpacity","strokeColor","fillColor","setPosition","setSize","setRect","translatePoints","traceStyle","lineGroupStyle","fillGroupStyle","pointStyle","styleText"]);A("ErrorBars",["pushRef2GDC","styleBoxDrop","ydr","plot","style"]);A("Fx",["init","hover","unhover","click","modeBar","dragAlign","dragCursors","dragClear","autoGrowInput"]);A("Heatmap",["calc","plot","margin"]);A("Histogram",["calc"]);A("Legend",["lines","points","bars","boxes","draw"]);A("Lib",["dateTime2ms","isDateTime","ms2DateTime","findBin","distinctVals","nestedProperty","pauseEvent","lpad","aggNums","len","mean","stdev","VERBOSE","TIMER","log","markTime","constrain","notifier","identity"]);A("Scatter",["calc","plot"]);M.defaultColors=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Plotly.colorscales={"YIGnBu":[[0,"rgb(8, 29, 88)"],[0.125,"rgb(37, 52, 148)"],[0.25,"rgb(34, 94, 168)"],[0.375,"rgb(29, 145, 192)"],[0.5,"rgb(65, 182, 196)"],[0.625,"rgb(127, 205, 187)"],[0.75,"rgb(199, 233, 180)"],[0.875,"rgb(237, 248, 217)"],[1,"rgb(255, 255, 217)"]],"YIOrRd":[[0,"rgb(128, 0, 38)"],[0.125,"rgb(189, 0, 38)"],[0.25,"rgb(227, 26, 28)"],[0.375,"rgb(252, 78, 42)"],[0.5,"rgb(253, 141, 60)"],[0.625,"rgb(254, 178, 76)"],[0.75,"rgb(254, 217, 118)"],[0.875,"rgb(255, 237, 160)"],[1,"rgb(255, 255, 204)"]],"RdBu":[[0,"rgb(33, 102, 172)"],[0.125,"rgb(67, 147, 195)"],[0.25,"rgb(146, 197, 222)"],[0.375,"rgb(209, 229, 240)"],[0.5,"rgb(247, 247, 247)"],[0.625,"rgb(253, 219, 199)"],[0.75,"rgb(244, 165, 130)"],[0.875,"rgb(214, 96, 77)"],[1,"rgb(178, 24, 43)"]],"Greens":[[0,"rgb(0, 68, 27)"],[0.125,"rgb(0, 109, 44)"],[0.25,"rgb(35, 139, 69)"],[0.375,"rgb(65, 171, 93)"],[0.5,"rgb(116, 196, 118)"],[0.625,"rgb(161, 217, 155)"],[0.75,"rgb(199, 233, 192)"],[0.875,"rgb(229, 245, 224)"],[1,"rgb(247, 252, 245)"]],"rainbow":[[0,"rgb(0, 0, 150)"],[0.125,"rgb(0, 25, 255)"],[0.25,"rgb(0, 152, 255)"],[0.375,"rgb(44, 255, 202)"],[0.5,"rgb(151, 255, 96)"],[0.625,"rgb(255, 234, 0)"],[0.75,"rgb(255, 111, 0)"],[0.875,"rgb(223, 0, 0)"],[1,"rgb(132, 0, 0)"]],"portland":[[0,"rgb(12,51,131)"],[0.25,"rgb(10,136,186)"],[0.5,"rgb(242,211,56)"],[0.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],"picnic":[[0,"rgb(0,0,255)"],[0.1,"rgb(51,153,255)"],[0.2,"rgb(102,204,255)"],[0.3,"rgb(153,204,255)"],[0.4,"rgb(204,204,255)"],[0.5,"rgb(255,255,255)"],[0.6,"rgb(255,204,255)"],[0.7,"rgb(255,153,255)"],[0.8,"rgb(255,102,204)"],[0.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],"greys":[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],"bluered":[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]]};Plotly.defaultColorscale=Plotly.colorscales.YIGnBu;(function(){var T=document.createElement("style");T.appendChild(document.createTextNode(""));document.head.appendChild(T);var a=T.sheet;function b(d,e){if(a.insertRule){a.insertRule(d+"{"+e+"}",0)}else{if(lib.styleSheet.addRule){a.addRule(d,e,0)}else{console.log("addStyleRule failed")}}}function c(d){return String(Math.round((1-d)*100))+"%"}for(var W in Plotly.colorscales){var U=Plotly.colorscales[W],Z="",X="";for(var V=U.length-1;V>=0;V--){Z+=", "+U[V][1]+" "+c(U[V][0]);X+=", color-stop("+c(U[V][0])+","+U[V][1]+")"}var Y="background: "+U[U.length-1][1]+";background: -moz-linear-gradient(top"+Z+");background: -webkit-gradient(linear, left top, left bottom"+X+");background: -webkit-linear-gradient(top"+Z+");background: -o-linear-gradient(top"+Z+");background: -ms-linear-gradient(top"+Z+");background: linear-gradient(to bottom"+Z+");filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='"+U[U.length-1][1]+"',endColorstr='"+U[0][1]+"',GradientType=0);";b("."+W,Y)}}());function K(){return{title:"Click to enter Plot title",xaxis:Plotly.Axes.defaultAxis({range:[-1,6],title:"Click to enter X axis title"}),yaxis:Plotly.Axes.defaultAxis({range:[-1,4],title:"Click to enter Y axis title"}),legend:{bgcolor:"#fff",bordercolor:"#000",borderwidth:1,font:{family:"",size:0,color:""},traceorder:"normal"},width:700,height:450,autosize:"initial",margin:{l:80,r:80,t:80,b:80,pad:2},paper_bgcolor:"#fff",plot_bgcolor:"#fff",barmode:"stack",bargap:0.2,bargroupgap:0,boxmode:"overlay",boxgap:0.3,boxgroupgap:0.3,font:{family:"Arial, sans-serif",size:12,color:"#000"},titlefont:{family:"",size:0,color:""},dragmode:"zoom",hovermode:"x"}}var N={scatter:{framework:J},bar:{framework:J},heatmap:{framework:J},histogramx:{framework:J},histogramy:{framework:J},histogram2d:{framework:J},box:{framework:J}};var O=["bar","histogramx","histogramy"];M.isBar=function(T){return O.indexOf(T)!=-1};var C=["heatmap","histogram2d"];M.isHeatmap=function(T){return C.indexOf(T)!=-1};M.newTab=function(U,T){B(U);J(U,T)};function B(U){var T=(typeof U=="string")?document.getElementById(U):U;T.mainsite=Boolean($("#plotlyMainMarker").length);if(T.mainsite){makeGraphToolMenu(T)}}function D(Z,T){var U={},Y=[],X;for(X=0;X<Z.length;X++){old_trace=Z[X];U[old_trace["name"]]=old_trace}for(X=0;X<T.length;X++){new_trace=T[X];U[new_trace["name"]]=new_trace}var W=Object.keys(U);for(X=0;X<W.length;X++){var V=W[X];Y.push(U[V])}return Y}M.positionBrand=function(T){$(T).find(".linktotool").remove();var U=$('<div class="linktotool"><a><font class="muted">view in </font><font class="info">plotly</font></a></div>').appendTo(T.paperdiv.node());if(T.shareplot){var V=window.location.pathname.split("/");U.find("a").attr("href","/"+V[2]+"/"+V[1]).attr("target","_blank")}else{U.find("a").click(function(){var W=$('<div id="hiddenform" style="display:none;"><form action="https://plot.ly/external" method="post" target="_blank"><input type="text" name="data" /></form></div>').appendTo(T);W.find("input").val(M.graphJson(T,false,"keepdata").replace(/\\/g,"\\\\").replace(/'/g,"\\'"));W.find("form").submit();W.remove()})}};Plotly.plot=function(q,t,o){Plotly.Lib.markTime("in plot");if(typeof q=="string"){q=document.getElementById(q)}q.mainsite=Boolean($("#plotlyMainMarker").length);var U=((typeof q.data==="undefined")&&$.isArray(t));if($.isArray(t)){if(U){q.data=t}else{q.data.push.apply(q.data,t)}q.empty=false}if(micropolar.adapter.isPolar(q.data)){q.data=t;q.layout=o;q.paper=$(q).find(".svg-container");micropolar.adapter.plotly(q.paper.get(0),q.data,q.layout);return null}if(q.data&&q.data.length>0){var d=N[q.data[0].type||"scatter"].framework,r=R(q.data).join(""),e=((q.layout&&q.layout._plots)?Object.keys(q.layout._plots):[]).join("");if(!q.framework||q.framework!=d||!q.layout||U||(e!=r)){q.framework=d;d(q,o)}}else{if((typeof q.layout==="undefined")||U){J(q,o)}}$(q).find(".data-only").attr("disabled",!q.data||q.data.length===0);var h=q.layout,l=h.xaxis,V=h.yaxis;var a,Z,j,c,f,X;q.firstscatter=true;q.numboxes=0;Plotly.Axes.setTypes(q);q.calcdata=[];q.hmpixcount=0;q.hmlumcount=0;Plotly.Lib.markTime("done Plotly.Axes.setType");for(var g in q.data){var p=q.data[g],W=p.type||"scatter",T=N[W],m={};f=[];if(T.framework!=q.framework){console.log("Oops, tried to put data of type "+(p.type||"scatter")+" on an incompatible graph controlled by "+(q.data[0].type||"scatter")+" data. Ignoring this dataset.");continue}if(!("name" in p)){if("ysrc" in p){var u=p.ysrc.split("/");p.name=u[u.length-1].replace(/\n/g," ")}else{p.name="trace "+g}}if(W=="scatter"){f=Plotly.Scatter.calc(q,p)}else{if(M.isBar(W)){if(W=="bar"){f=Plotly.Bars.calc(q,p)}else{f=Plotly.Histogram.calc(q,p)}}else{if(M.isHeatmap(W)){f=Plotly.Heatmap.calc(q,p)}else{if(W=="box"){f=Plotly.Boxes.calc(q,p)}}}}if(!("line" in p)){p.line={}}if(!("marker" in p)){p.marker={}}if(!("line" in p.marker)){p.marker.line={}}if(!("textfont" in p)){p.textfont={}}if(!$.isArray(f)||!f[0]){f=[{x:false,y:false}]}if(!f[0].t){f[0].t={}}f[0].t.curve=g;f[0].t.cdcurve=q.calcdata.length;q.calcdata.push(f);Plotly.Lib.markTime("done with calcdata for "+g)}M.setStyles(q);Plotly.Bars.setPositions(q);Plotly.Boxes.setPositions(q);Plotly.Lib.markTime("done with setstyles and bar/box adjustments");if(V.autorange){Plotly.Axes.expand(V,Plotly.ErrorBars.ydr(q),{padded:true})}Plotly.Lib.markTime("done Plotly.ErrorBars.ydr");Plotly.Annotations.calcAutorange(q);Plotly.Axes.doAutoRange(l);Plotly.Axes.doAutoRange(V);q.plot.attr("viewBox","0 0 "+q.plotwidth+" "+q.plotheight);Plotly.Axes.doTicks(q,"redraw");Plotly.Lib.markTime("done autorange and ticks");if($.isNumeric(l._m)&&$.isNumeric(l._b)&&$.isNumeric(V._m)&&$.isNumeric(V._b)){var k=[],b=[],Y=[];for(j in q.calcdata){f=q.calcdata[j];X=f[0].t.type;if(M.isHeatmap(X)){Plotly.Heatmap.plot(q,f);Plotly.Lib.markTime("done heatmap "+j)}else{$(q).find(".hm"+j).remove();$(q).find(".cb"+j).remove();if(M.isBar(X)){k.push(f)}else{if(X=="box"){Y.push(f)}else{b.push(f)}}}}q.plot.selectAll("g.trace").remove();Plotly.Bars.plot(q,k);Plotly.Lib.markTime("done bars");Plotly.ErrorBars.plot(q,k.concat(b));Plotly.Lib.markTime("done errorbars");Plotly.Scatter.plot(q,b);Plotly.Lib.markTime("done scatter");Plotly.Boxes.plot(q,Y);Plotly.Lib.markTime("done boxes");Q(q);Plotly.Lib.markTime("done applyStyle")}else{console.log("error with axis scaling",l._m,l._b,V._m,V._b)}if(h.showlegend||(q.calcdata.length>1&&h.showlegend!==false)){Plotly.Legend.draw(q)}else{q.infolayer.selectAll(".legend").remove()}Plotly.Annotations.drawAll(q);if(!q.mainsite&&!q.standalone){M.positionBrand(q)}setTimeout(function(){if($(q).find("#graphtips").length===0&&q.data!==undefined&&q.showtips!==false&&q.mainsite){try{if(firsttimeuser()){showAlert("graphtips")}}catch(v){console.log(v)}}else{if($(q).find("#graphtips").css("display")=="none"){if(firsttimeuser()){$(q).find("#graphtips").fadeIn()}}}},1000);Plotly.Lib.markTime("done plot")};M.setStyles=function(k,U){if(typeof k=="string"){k=document.getElementById(k)}U=U||false;var f,e,b,V,T,Z,Y,m,h,a,X;function W(j,c,o,l){T=Plotly.Lib.nestedProperty(a,j);Z=T.get();if($.isArray(Z)&&!l){b=Math.min(Y.length,Z.length);for(V=0;V<b;V++){Y[V][c]=Z[V]}Y[0].t[c]=o}else{Y[0].t[c]=(typeof Z!="undefined")?Z:o;if(U&&typeof Z=="undefined"){T.set(o)}}}for(f in k.calcdata){Y=k.calcdata[f];m=Y[0].t;h=m.curve;a=k.data[h];X=M.defaultColors[h%M.defaultColors.length];W("type","type","scatter");W("visible","visible",true);W("opacity","op",1);W("text","tx","");W("name","name","trace "+h);W("error_y.visible","ye_vis",false);var g=m.type;if((a.error_y&&a.error_y.visible)){W("error_y.type","ye_type","percent");W("error_y.value","ye_val",10);W("error_y.traceref","ye_tref",0);W("error_y.color","ye_clr",m.ye_clr||X);W("error_y.thickness","ye_tkns",1);W("error_y.width","ye_w",4);W("error_y.opacity","ye_op",1)}if(["scatter","box"].indexOf(g)!=-1){W("line.color","lc",a.marker.color||X);W("line.width","lw",2);W("marker.symbol","mx","circle");W("marker.opacity","mo",1);W("marker.size","ms",6);W("marker.color","mc",m.lc);W("marker.line.color","mlc",((m.lc!=m.mc)?m.lc:"#000"));W("marker.line.width","mlw",0);W("fill","fill","none");W("fillcolor","fc",Plotly.Drawing.addOpacity(m.lc,0.5));if($.isArray(a.marker.size)){W("marker.sizeref","msr",1);W("marker.sizemode","msm","diameter")}else{m.msr=1;m.msm="diameter"}W("marker.colorscale","mscl",Plotly.defaultColorscale,true);W("marker.cauto","mcauto",true);W("marker.cmax","mcmax",10);W("marker.cmin","mcmin",-10);W("marker.line.colorscale","mlscl",Plotly.defaultColorscale,true);W("marker.line.cauto","mlcauto",true);W("marker.line.cmax","mlcmax",10);W("marker.line.cmin","mlcmin",-10);if(g==="scatter"){var d="lines";if(Y.length<Plotly.Scatter.PTS_LINESONLY||(typeof a.mode!="undefined")){d="lines+markers"}else{for(e=0;e<Y.length;e++){if($.isNumeric(Y[e].x)&&$.isNumeric(Y[e].y)&&(e===0||!$.isNumeric(Y[e-1].x)||!$.isNumeric(Y[e-1].y))&&(e==Y.length-1||!$.isNumeric(Y[e+1].x)||!$.isNumeric(Y[e+1].y))){d="lines+markers";break}}}W("mode","mode",d);W("line.dash","ld","solid");W("textposition","tp","middle center");W("textfont.size","ts",k.layout.font.size);W("textfont.color","tc",k.layout.font.color);W("textfont.family","tf",k.layout.font.family)}else{if(g==="box"){W("whiskerwidth","ww",0.5);W("boxpoints","boxpts","outliers");W("boxmean","mean",false);W("jitter","jitter",0);W("pointpos","ptpos",0);W("marker.outliercolor","soc","rgba(0,0,0,0)");W("marker.line.outliercolor","solc",m.mc);W("marker.line.outlierwidth","solw",1);W("marker.outliercolorscale","soscl",m.mscl,true);W("marker.outliercauto","socauto",m.mcauto);W("marker.outliercmax","socmax",m.mcmax);W("marker.outliercmin","socmin",m.mcmin);W("marker.line.outliercolorscale","solscl",m.mlscl,true);W("marker.line.outliercauto","solcauto",m.mlcauto);W("marker.line.outliercmax","solcmax",m.mlcmax);W("marker.line.outliercmin","solcmin",m.mlcmin)}}}else{if(M.isHeatmap(g)){if(g==="histogram2d"){W("histnorm","histnorm","count");W("autobinx","autobinx",true);W("nbinsx","nbinsx",0);W("xbins.start","xbstart",0);W("xbins.end","xbend",1);W("xbins.size","xbsize",1);W("autobiny","autobiny",true);W("nbinsy","nbinsy",0);W("ybins.start","ybstart",0);W("ybins.end","ybend",1);W("ybins.size","ybsize",1)}else{W("xtype","xtype",a.x?"array":"noarray");W("ytype","ytype",a.y?"array":"noarray");W("x0","x0",0);W("dx","dx",1);W("y0","y0",0);W("dy","dy",1)}W("zauto","zauto",true);W("zmin","zmin",-10);W("zmax","zmax",10);W("scl","scl",Plotly.defaultColorscale,true);W("showscale","showscale",true);W("zsmooth","zsmooth",false)}else{if(M.isBar(g)){if(g!="bar"){W("histnorm","histnorm","count");W("autobinx","autobinx",true);W("nbinsx","nbinsx",0);W("xbins.start","xbstart",0);W("xbins.end","xbend",1);W("xbins.size","xbsize",1)}W("bardir","bardir","v");W("marker.opacity","mo",1);W("marker.color","mc",X);W("marker.line.color","mlc","#000");W("marker.line.width","mlw",0)}}}}};function Q(U){var T=U.plot;T.selectAll("g.trace").call(Plotly.Drawing.traceStyle,U);T.selectAll("g.points").each(function(V){d3.select(this).selectAll("path,rect").call(Plotly.Drawing.pointStyle,V.t||V[0].t);d3.select(this).selectAll("text").call(Plotly.Drawing.textPointStyle,V.t||V[0].t)});T.selectAll("g.trace polyline.line").call(Plotly.Drawing.lineGroupStyle);T.selectAll("g.trace polyline.fill").call(Plotly.Drawing.fillGroupStyle);T.selectAll("g.boxes").call(Plotly.Boxes.style);T.selectAll("g.errorbars").call(Plotly.ErrorBars.style);if(U.mainsite&&window.ws&&window.ws.confirmedReady){G("applyStyle",M.graphJson(U,true))}}Plotly.restyle=function(m,U,q,d){if(typeof m=="string"){m=document.getElementById(m)}var e=m.layout,p={};if(typeof U=="string"){p[U]=q}else{if($.isPlainObject(U)){p=U;if(d===undefined){d=q}}else{console.log("restyle fail",U,q,d);return }}if(Object.keys(p).length){m.changed=true}if($.isNumeric(d)){d=[d]}else{if(!$.isArray(d)||!d.length){d=m.data.map(function(t,u){return u})}}var h=["mode","visible","type","bardir","fill","histnorm","marker.size","text","textfont.size","textposition","xtype","x0","dx","ytype","y0","dy","zmin","zmax","zauto","mincolor","maxcolor","scl","zsmooth","showscale","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.width","autobinx","nbinsx","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins.start","ybins.end","ybins.size","boxpoints","jitter","pointpos","whiskerwidth","boxmean"];var a=["barmode","bargap","bargroupgap","boxmode","boxgap","boxgroupgap","xaxis.autorange","yaxis.autorange","xaxis.range","yaxis.range"];var o=["type","x","y","x0","y0","bardir"];var Z=false,V=false,b=false;var k={},j={};function r(){return d.map(function(){return undefined})}function g(u,t,x,v){if($.isArray(t)){t.forEach(function(y){g(u,y,x,v)});return }if(t in p){return }var w=Plotly.Lib.nestedProperty(u,t);if(!(t in j)){j[t]=r()}if(j[t][v]===undefined){j[t][v]=w.get()}if(x!==undefined){w.set(x)}}var W=["zmin","zmax"],c=["xbins.start","xbins.end","xbins.size"],Y=["xbins.start","xbins.end","xbins.size"];for(var f in p){var l=p[f],T,X;k[f]=l;if(a.indexOf(f)!=-1){X=Plotly.Lib.nestedProperty(e,f);j[f]=[X.get()];X.set($.isArray(l)?l[0]:l);Z=true;continue}j[f]=r();for(i=0;i<d.length;i++){T=m.data[d[i]];X=Plotly.Lib.nestedProperty(T,f);if(W.indexOf(f)!=-1){g(T,"zauto",false,i)}else{if(f=="zauto"){g(T,W,undefined,i)}else{if(c.indexOf(f)!=-1){g(T,"autobinx",false,i)}else{if(f=="autobinx"){g(T,c,undefined,i)}else{if(Y.indexOf(f)!=-1){g(T,"autobiny",false,i)}else{if(f=="autobiny"){g(T,Y,undefined,i)}else{if(["x0","dx"].indexOf(f)!=-1&&T.x&&T.xtype!="scaled"){g(T,"xtype","scaled",i)}else{if(["y0","dy"].indexOf(f)!=-1&&T.x&&T.ytype!="scaled"){g(T,"ytype","scaled",i)}}}}}}}}j[f][i]=X.get();X.set($.isArray(l)?l[i%l.length]:l)}if((d.indexOf(0)!=-1)&&(o.indexOf(f)!=-1)){m.axtypesok=false;Z=true}if((["autobinx","autobiny","zauto"].indexOf(f)==-1)||l!==false){b=true}if(h.indexOf(f)!=-1){if(["bardir","type"].indexOf(f)!=-1){g(e,["xaxis.autorange","yaxis.autorange"],true,0);g(e,["xaxis.range","yaxis.range"],[0,1],0);if(U=="type"){for(i=0;i<d.length;i++){g(m.data[d[i]],["autobinx","autobiny"],true,i)}}}if(Plotly.Heatmap.margin(m)){V=true}else{Z=true}}}if(typeof plotUndoQueue=="function"){plotUndoQueue(m,j,k,d)}if(V){m.layout=undefined;Plotly.plot(m,"",e)}else{if(Z){Plotly.plot(m)}else{M.setStyles(m);if(b){Q(m);if(e.showlegend){Plotly.Legend.draw(m)}}}}$(m).trigger("restyle.plotly",[k,d])};Plotly.relayout=function(x,T,z){if(typeof x=="string"){x=document.getElementById(x)}var g=x.layout,y={},U=false,a=false,t=false,V=false;if(typeof T=="string"){y[T]=z}else{if($.isPlainObject(T)){y=T}else{console.log("relayout fail",T,z);return }}if(Object.keys(y).length){x.changed=true}var Y=Object.keys(y),f=["xaxis","yaxis"];for(var h=0;h<Y.length;h++){if(Y[h].indexOf("allaxes")===0){for(var d=0;d<f.length;d++){var X=Y[h].replace("allaxes",f[d]);if(!y[X]){y[X]=y[Y[h]]}}delete y[Y[h]]}}var v={},r={};function o(j,AA){if($.isArray(j)){j.forEach(function(p){o(p,AA)});return }if(j in y){return }var m=Plotly.Lib.nestedProperty(g,j);if(!(j in r)){r[j]=m.get()}if(AA!==undefined){m.set(AA)}}var u=["height","width"];for(var l in y){var Z=Plotly.Lib.nestedProperty(g,l),w=y[l];v[l]=y[l];r[l]=(Z.parts[1]=="reverse")?y[l]:Z.get();if(u.indexOf(l)!=-1){o("autosize",false)}else{if(l=="autosize"){o(u,undefined)}}var b=l.match(/^(.)axis\.range\[[0|1]\]$/);if(b&&b.length==2){o(Z.parts[0]+".autorange",false)}b=l.match(/^(.)axis\.autorange$/);if(b&&b.length==2){o([Z.parts[0]+".range[0]",Z.parts[0]+".range[1]"],undefined)}if(Z.parts[1]=="type"&&!g[Z.parts[0]].autorange&&(g[Z.parts[0]].type=="log"?w!="log":w=="log")){var W=g[Z.parts[0]],k=W.range[0],e=W.range[1];if(w=="log"){if(k<0&&e<0){o(Z.parts[0]+".autorange",true);continue}else{if(k<0){k=e/1000000}else{if(e<0){e=k/1000000}}}o(Z.parts[0]+".range[0]",Math.log(k)/Math.LN10);o(Z.parts[0]+".range[1]",Math.log(e)/Math.LN10)}else{o(Z.parts[0]+".range[0]",Math.pow(10,k));o(Z.parts[0]+".range[1]",Math.pow(10,e))}}if(Z.parts[1]=="reverse"){g[Z.parts[0]].range.reverse();V=true}else{if(Z.parts[0]=="annotations"){var q=Z.parts[1];if(Z.parts.length==2){if(y[l]=="add"||$.isPlainObject(y[l])){r[l]="remove"}else{if(y[l]=="remove"){if(q==-1){r["annotations"]=g.annotations;delete r[l]}else{r[l]=g.annotations[Z.parts[1]]}}else{console.log("???",y)}}}if((g.xaxis.autorange||g.yaxis.autorange)&&q>=0&&(q>=g.annotations.length||g.annotations[Z.parts[1]].ref=="plot")&&l.indexOf("color")==-1&&l.indexOf("opacity")==-1){V=true}Plotly.Annotations.draw(x,q,Z.parts.slice(2).join("."),y[l]);delete y[l]}else{if(Z.parts[0].indexOf("legend")!=-1){U=true}else{if(l.indexOf("title")!=-1){a=true}else{if(Z.parts[0].indexOf("bgcolor")!=-1){t=true}else{if(Z.parts.length>1&&(Z.parts[1].indexOf("tick")!=-1||Z.parts[1].indexOf("exponent")!=-1||Z.parts[1].indexOf("grid")!=-1||Z.parts[1].indexOf("zeroline")!=-1)){a=true}else{if(l.indexOf("axis.linewidth")!=-1){a=t=true}else{if(Z.parts.length>1&&(Z.parts[1].indexOf("line")!=-1||Z.parts[1].indexOf("mirror")!=-1)){t=true}else{if(l=="margin.pad"){a=t=true}else{if(["hovermode","dragmode"].indexOf(l)==-1){V=true}}}}}}}}Z.set(w)}}}if(typeof plotUndoQueue=="function"){plotUndoQueue(x,r,v,"relayout")}if(y.autosize){y=L(x,y)}var c=Object.keys(y);if(V){x.layout=undefined;Plotly.plot(x,"",g)}else{if(c.length){if(U){x.infolayer.selectAll(".legend").remove();if(g.showlegend){Plotly.Legend.draw(x)}}if(t){S(x)}if(a){Plotly.Axes.doTicks(x,"redraw");M.titles(x,"gtitle")}}}$(x).trigger("relayout.plotly",v)};function H(V){if(!V.mainsite){return }$gd=$(V);var W=$gd.innerHeight()-$gd.find(".tool-menu").innerHeight(),T=$gd.find(".themebar"),U=$gd.find(".demobar");if(T.css("display")=="block"){W-=T.innerHeight()}if(U.css("display")=="block"){W-=U.innerHeight()}$gd.find(".graph-container").css("height",W)}function P(V){if(!V.mainsite){return }var U=$(V).find(".graph-container"),T=V.layout.width>parseInt(U.css("width"),10);if(V&&V.tabtype=="plot"&&$(V).css("display")!="none"){if(V.layout&&(V.layout.autosize||!T)){U.removeClass("is-fixed-size")}else{if(V.layout&&T){U.addClass("is-fixed-size")}}}}function L(X,V){var U,T;if(X.mainsite){H(X);var W=X.graphContainer.node().getBoundingClientRect();U=Math.round(W.height*0.9);T=Math.round(W.width*0.9)}else{U=$(X).height()||X.layout.height||K().height;T=$(X).width()||X.layout.width||K().width}if(Math.abs(X.layout.width-T)>1||Math.abs(X.layout.height-U)>1){X.layout.height=U;X.layout.width=T}else{if(X.layout.autosize!="initial"){delete (V.autosize);X.layout.autosize=true;S(X)}}return V}M.resize=function(T){if(typeof T=="string"){T=document.getElementById(T)}killPopovers();H(T);if(T&&T.tabtype=="plot"&&$(T).css("display")!="none"){if(T.redrawTimer){clearTimeout(T.redrawTimer)}T.redrawTimer=setTimeout(function(){if($(T).css("display")=="none"){return }if(T.layout&&T.layout.autosize){var U=T.changed;T.autoplay=true;Plotly.relayout(T,{autosize:true});T.changed=U}if(LIT){hidebox();litebox()}},100)}P(T)};function J(a,Y){var X=(typeof a=="string")?document.getElementById(a):a,V=$(X),T=d3.select(X);if(V.find(".graph-container").length===0){V.append('<div class="graph-container"></div>')}X.graphContainer=T.select(".graph-container");X.mainsite=Boolean($("#plotlyMainMarker").length);if(X.mainsite){$(X).children(".graph-container").addClass("is-mainsite")}var W=$(X).children(".graph-container").children(".svg-container");if(W.length==1){W.children("svg").remove()}else{X.paperdiv=X.graphContainer.append("div").classed("svg-container",true).style("position","relative")}X.layout=I(X.layout||K(),Y||{});var Z=X.layout;var U=R(X.data);U.forEach(function(c){var b=c.match(/^(x[0-9]*)(y[0-9]*)$/);[b[1],b[2]].forEach(function(e){var d=e.charAt(0)+"axis"+e.substr(1);if(!Z[d]){Z[d]=Plotly.Axes.defaultAxis({range:[-1,6],title:"Click to enter "+b[1].toUpperCase()+" axis title"})}})});Plotly.Axes.setTypes(X);if(Z.autosize=="initial"){H(X);L(X,{});Z.autosize=true}X.paper=X.paperdiv.append("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xmlns:xlink","http://www.w3.org/1999/xlink");X.plotbg=X.paper.append("rect").attr("stroke-width",0);X.gridlayer=X.paper.append("g").attr("class","gridlayer");X.zerolinelayer=X.paper.append("g").attr("class","zerolinelayer");X.plot=X.paper.append("svg").attr("preserveAspectRatio","none").style("fill","none");X.axlines={x:X.paper.append("path").style("fill","none").classed("crisp",true),y:X.paper.append("path").style("fill","none").classed("crisp",true)};X.axislayer=X.paper.append("g").attr("class","axislayer");X.draglayer=X.paper.append("g").attr("class","draglayer");X.infolayer=X.paper.append("g").attr("class","infolayer");X.hoverlayer=X.paper.append("g").attr("class","hoverlayer");S(X);Plotly.Axes.doTicks(X,"redraw");Plotly.Fx.init(X)}function S(c){var Z=c.layout,U=Z.xaxis,b=Z.yaxis;Plotly.Heatmap.margin(c);c.margin={l:Z.margin.l-(c.lw<0?c.lw:0),r:Z.margin.r+(c.lw>0?c.lw:0),t:Z.margin.t+(c.lh>0?c.lh:0),b:Z.margin.b-(c.lh<0?c.lh:0),p:Z.margin.pad};var Y=c.margin;c.plotwidth=Z.width-Y.l-Y.r;c.plotheight=Z.height-Y.t-Y.b;U._pixrange=c.plotwidth;b._pixrange=c.plotheight;c.paperdiv.style({width:Z.width+"px",height:Z.height+"px"});c.paper.call(Plotly.Drawing.setSize,Z.width,Z.height);c.paperdiv.style("background",Z.paper_bgcolor);c.plotbg.call(Plotly.Drawing.setRect,Y.l-Y.p,Y.t-Y.p,c.plotwidth+2*Y.p,c.plotheight+2*Y.p).call(Plotly.Drawing.fillColor,Z.plot_bgcolor);c.plot.call(Plotly.Drawing.setRect,Y.l,Y.t,c.plotwidth,c.plotheight);var W=$.isNumeric(U.linewidth)?U.linewidth:1,a=$.isNumeric(b.linewidth)?b.linewidth:1,X=Y.p+a,T=Y.p,V=U.mirror?0:W;c.axlines.x.attr("d","M"+(Y.l-X)+","+(Y.t+c.plotheight+Y.p+W/2)+"h"+(c.plotwidth+2*X)+(U.mirror?("m0,-"+(c.plotheight+2*Y.p+W)+"h-"+(c.plotwidth+2*X)):"")).attr("stroke-width",W).call(Plotly.Drawing.strokeColor,U.showline?U.linecolor:"rgba(0,0,0,0)");c.axlines.y.attr("d","M"+(Y.l-Y.p-a/2)+","+(Y.t-T-V)+"v"+(c.plotheight+2*T+V)+(b.mirror?("m"+(c.plotwidth+2*Y.p+a)+",0v-"+(c.plotheight+2*T+V)):"")).attr("stroke-width",a).call(Plotly.Drawing.strokeColor,b.showline?b.linecolor:"rgba(0,0,0,0)");M.titles(c,"gtitle");Plotly.Fx.modeBar(c);P(c);return c}M.titles=function(q,t){var Z;if(typeof q=="string"){q=document.getElementById(q)}if(!t){M.titles(q,"xtitle");M.titles(q,"ytitle");M.titles(q,"gtitle");return }function p(h,v){var w=h.axislayer.selectAll("text."+v+"tick")[0].map(function(y,x){return y.getBBox()[(v==="x")?"height":"width"]});return d3.max(w)||0}var m=q.layout,l=q.margin,o,c,b,d,W,u,g,X,V,e="",k={};if(t=="xtitle"){W=m.xaxis;u="X axis";g=m.xaxis.titlefont.family||m.font.family||"Arial";X=m.xaxis.titlefont.size||(m.font.size*1.2)||14;V=m.xaxis.titlefont.color||m.font.color||"#000";c=(m.width+l.l-l.r)/2;b=m.height+(q.lh<0?q.lh:0)-14*2.25;d=q.plotwidth/2;o=14;var a=p(q,"x")+W.ticklen;Z={horizontalAlign:"center",verticalAlign:"bottom",horizontalMargin:-l.r+l.l,verticalMargin:X+4+a,orientation:"under"}}else{if(t=="ytitle"){W=m.yaxis;u="Y axis";g=m.yaxis.titlefont.family||m.font.family||"Arial";X=m.yaxis.titlefont.size||(m.font.size*1.2)||14;V=m.yaxis.titlefont.color||m.font.color||"#000";c=40-(q.lw<0?q.lw:0);b=(m.height+l.t-l.b)/2;d=14;o=q.plotheight/2;e="rotate(-90,x,y)";k={center:0};var U=p(q,"y");Z={horizontalAlign:0,verticalAlign:"center",horizontalMargin:0,verticalMargin:l.l/2-U-X*2,rotate:-90}}else{if(t=="gtitle"){W=m;u="Plot";g=m.titlefont.family||m.font.family||"Arial";X=m.titlefont.size||m.font.size*1.4||16;V=m.titlefont.color||m.font.color||"#000";c=m.width/2;b=m.margin.t/2;d=m.width/2;o=16;Z={horizontalAlign:"center",verticalAlign:"top",horizontalMargin:-l.r,verticalMargin:m.margin.t/2}}}}var Y=1;var f=W.title;if(W.unit){f+=" ("+W.unit+")"}if(f===""){Y=0}if(f==="Click to enter "+u+" title"){Y=0.2}q.infolayer.select("."+t).remove();var T=q.infolayer.append("text").attr("class",t).text(f);function j(){var v=d3.select(q).select("svg>rect");var h=this.style({"font-family":g,"font-size":X,fill:V,opacity:Y}).call(d3.plugly.convertToTspans).call(d3.plugly.alignSVGWith(v,Z));if(Z.rotate){h.attr({"text-anchor":"middle",x:0,transform:"translate("+[c,b]+") rotate("+Z.rotate+")"})}}T.attr({"data-unformatted":f}).call(j);function r(){Y=0;f="Click to enter "+u+" title";q.infolayer.select("."+t).attr({"data-unformatted":f}).text("Click to enter "+u+" title").on("mouseover.opacity",function(){d3.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){d3.select(this).transition().duration(1000).style("opacity",0)})}if(!f){r()}if(q.mainsite){T.call(d3.plugly.makeEditable).on("edit",function(v){W.title=f=v;this.attr({"data-unformatted":v});if(!v){r()}else{if(v!="Click to enter "+u+" title"){Y=1}}this.call(j);console.log(u,u.charAt(0));var h=Plotly.Lib.nestedProperty(m,{X:"xaxis.title",Y:"yaxis.title",P:"title"}[u.charAt(0)]);var w={};w[h.astr]=v;Plotly.relayout(q,w)}).on("cancel",function(v){var h=this.attr("data-unformatted");this.text(h).call(j)}).on("input",function(w,v){var h=d3.select(q).select("svg>rect");this.text(w||" ").call(d3.plugly.alignSVGWith(h,Z))})}else{if(!f||f==="Click to enter "+u+" title"){T.remove()}}};function R(U){var T=[];(U||[]).forEach(function(X){var W=(X.xaxis||"x")+(X.yaxis||"y");if(T.indexOf(W)==-1){T.push(W)}});if(!T.length){T=["xy"]}var V=/^x([0-9]*)y([0-9]*)$/;return T.filter(function(W){return W.match(V)}).sort(function(X,W){var Z=X.match(V),Y=W.match(V);if(!Z){return false}if(!Y){return true}if(Z[1]==Y[1]){return Number(Z[2]||0)>Number(Y[2]||0)}return Number(Z[1]||0)>Number(Y[1]||0)})}M.graphJson=function(U,T,W){if(typeof U=="string"){U=document.getElementById(U)}var V={data:(U.data||[]).map(function(X){return F(X,W)})};if(!T){V.layout=F(U.layout,W)}return JSON.stringify(V)};function F(Y,X){if(typeof Y=="function"){return null}if(!$.isPlainObject(Y)){return Y}var W={},T;function U(Z){return F(Z,X)}for(T in Y){if(typeof Y[T]=="function"||["_","["].indexOf(T.charAt(0))!=-1){continue}if(X=="keepdata"){if(T.substr(T.length-3)=="src"){continue}}else{if(X!="keepall"){var V=Y[T+"src"];if(typeof V=="string"&&V.indexOf(":")>0){continue}}}if($.isPlainObject(Y[T])){W[T]=F(Y[T],X)}else{if($.isArray(Y[T])){W[T]=Y[T].map(U)}else{W[T]=Y[T]}}}return W}uoStack=[];function I(V,T){if(!$.isPlainObject(T)){return V}var W=uoStack[uoStack.push({})-1],U;for(U in V){W[U]=V[U]}for(U in T){if($.isPlainObject(T[U])){W[U]=I($.isPlainObject(V[U])?V[U]:{},T[U])}else{if($.isNumeric(V[U])&&$.isNumeric(T[U])){W[U]=Number(T[U])}else{W[U]=T[U]}}}return uoStack.pop()}function G(T,U){if(window.ws&&window.ws.confirmedReady){func=(T?JSON.stringify(T):"None");U=JSON.stringify(U);send_invisible("hermes("+func+","+U+")")}}}());(function(){if(!window.Plotly){window.Plotly={}}var B=Plotly.Lib={};B.dateTime2ms=function(E){var I,C,G,D;E=String(E).split(" ");if(E.length>2){return false}var F=E[0].split("-");if(F.length>3||(F.length!=3&&E.length>1)){return false}if(F[0].length==4){I=Number(F[0])}else{if(F[0].length==2){var H=new Date().getFullYear();I=((Number(F[0])-H+70)%100+200)%100+H-70}else{return false}}if(!(I>=0)){return false}if(F.length==1){return new Date(I,0,1).getTime()}C=Number(F[1])-1;if(F[1].length>2||!(C>=0&&C<=11)){return false}if(F.length==2){return new Date(I,C,1).getTime()}G=Number(F[2]);if(F[2].length>2||!(G>=1&&G<=31)){return false}G=new Date(I,C,G).getTime();if(E.length==1){return G}F=E[1].split(":");if(F.length>3){return false}D=Number(F[0]);if(F[0].length>2||!(D>=0&&D<=23)){return false}G+=3600000*D;if(F.length==1){return G}C=Number(F[1]);if(F[1].length>2||!(C>=0&&C<=59)){return false}G+=60000*C;if(F.length==2){return G}E=Number(F[2]);if(!(E>=0&&E<60)){return false}return G+E*1000};B.isDateTime=function(C){return B.dateTime2ms(C)!==false};B.ms2DateTime=function(C,E){if(!E){E=0}var F=new Date(C),D=d3.time.format("%Y-%m-%d")(F);if(E<7776000000){D+=" "+B.lpad(F.getHours(),2);if(E<432000000){D+=":"+B.lpad(F.getMinutes(),2);if(E<10800000){D+=":"+B.lpad(F.getSeconds(),2);if(E<300000){D+="."+B.lpad(F.getMilliseconds(),3)}}}return D.replace(/([:\s]00)*\.?[0]*$/,"")}return D};B.findBin=function(G,F,J){if($.isNumeric(F.start)){return J?Math.ceil((G-F.start)/F.size)-1:Math.floor((G-F.start)/F.size)}else{var E=0,D=F.length,I=0,C=(F[F.length-1]>F[0]?1:-1),H;if(F[F.length-1]>F[0]){H=J?function(L,K){return L<K}:function(L,K){return L<=K}}else{H=J?function(L,K){return L>=K}:function(L,K){return L>K}}while(E<D&&I++<100){n=Math.floor((E+D)/2);if(H(F[n],G)){E=n+1}else{D=n}}if(I>90){console.log("Long binary search...")}return E-1}};B.distinctVals=function(G){G.sort(function(J,I){return J-I});var D=G.length-1,C=(G[D]-G[0])||1,F=C/(D||1)/10000,H=[G[0]];for(var E=0;E<D;E++){if(G[E+1]>G[E]+F){C=Math.min(C,G[E+1]-G[E]);H.push(G[E+1])}}return{vals:H,minDiff:C}};B.nestedProperty=function(F,O){var P=F,C=O.split("."),K,J=0;while(J<C.length){var G=String(C[J]).match(/^([^\[\]]+)((\[\-?[0-9]*\])+)$/);if(G){var N=G[2].substr(1,G[2].length-2).split("][");C.splice(J,1,G[1]);for(K=0;K<N.length;K++){J++;C.splice(J,0,Number(N[K]))}}J++}var M=O.substr(O.indexOf("[-1]")+4),H;if(M.charAt(0)=="."){M=M.substr(1)}function E(Q){return B.nestedProperty(Q,M)}function I(Q){for(K=0;K<H.length;K++){H[K].set($.isArray(Q)?Q[K%Q.length]:Q)}}function L(R){var Q=true,S=[];for(K=0;K<H.length;K++){S[K]=H[K].get();if(S[K]!=S[0]){Q=false}}return Q?S[0]:S}for(J=0;J<C.length-1;J++){if(C[J]==-1){H=P.map(E);return{set:I,get:L,astr:O,parts:C,obj:F}}if(!(C[J] in P)){P[C[J]]=(typeof C[J+1]==="string")?{}:[]}P=P[C[J]]}var D=C[J];return{set:function(Q){if(Q===undefined||Q===null){delete P[D]}else{P[D]=Q}},get:function(){return P[D]},astr:O,parts:C,obj:F}};B.pauseEvent=function(C){if(C.stopPropagation){C.stopPropagation()}if(C.preventDefault){C.preventDefault()}C.cancelBubble=true;C.returnValue=false;return false};B.lpad=function(D,C){return String(D+Math.pow(10,C)).substr(1)};B.aggNums=function(F,E,D,C){if(!C){C=D.length}if(!$.isNumeric(E)){E=false}for(i=0;i<C;i++){if(!$.isNumeric(E)){E=D[i]}else{if($.isNumeric(D[i])){E=F(E,D[i])}}}return E};B.len=function(C){return B.aggNums(function(E,D){return E+1},0,C)};B.mean=function(D,C){if(!C){C=B.len(D)}return B.aggNums(function(F,E){return F+E},0,D)/C};B.stdev=function(E,C,D){if(!C){C=B.len(E)}if(!$.isNumeric(D)){D=B.aggNums(function(G,F){return G+F},0,E)/C}return Math.sqrt(B.aggNums(function(G,F){return G+Math.pow(F-D,2)},0,E)/C)};B.VERBOSE=false;B.TIMER=new Date().getTime();B.log=function(){if(B.VERBOSE){console.log.apply(console,arguments)}};B.markTime=function(C){if(!B.VERBOSE){return }var D=new Date().getTime();console.log(C,D-B.TIMER,"(msec)");B.TIMER=D};B.constrain=function(D,C,E){return Math.max(C,Math.min(E,D))};B.notifier=function(F,C){var E=$("div.notifier").length,D=(E*100)+20;if($("div.notifier").text().indexOf(F)>0){return }var G=$('<div class="notifier" style="display:none;"><button class="close" data-dismiss="alert" style="opacity:1;text-shadow:none;color:white;">&times;</button><br><p>'+F+"</p></div>");G.appendTo(".middle-center,#embedded_graph").css({"margin-top":D}).fadeIn(2000).delay(C=="long"?2000:1000).fadeOut(2000,function(){G.remove()})};B.bBoxIntersect=function(D,C){return(D.left<=C.right&&C.left<=D.right&&D.top<=C.bottom&&C.top<=D.bottom)};B.identity=function(C){return C};B.randstr=function A(D,L,C){if(!C){C=16}if(L===undefined){L=128}if(L<=0){return"0"}var E=Math.log(Math.pow(2,L))/Math.log(C);for(var F=2;E===Infinity;F*=2){E=Math.log(Math.pow(2,L/F))/Math.log(C)*F}var K=E-Math.floor(E);var G="";for(var F=0;F<Math.floor(E);F++){var J=Math.floor(Math.random()*C).toString(C);G=J+G}if(K){var I=Math.pow(C,K);var J=Math.floor(Math.random()*I).toString(C);G=J+G}var H=parseInt(G,C);if((D&&(D.indexOf(G)>-1))||(H!==Infinity&&H>=Math.pow(2,L))){return A(D,L,C)}else{return G}}}());(function(){var D=Plotly.Fx={};D.DBLCLICKDELAY=600;D.MINDRAG=5;D.init=function(S){var O=S.margin,M=O.l,L=M+S.plotwidth,U=$(S).find("text.ytick").get().map(function(V){return V.getBBox().x}),N=U.length?Math.min.apply(U,U):M-10,P=O.t,Q=P+S.plotheight,T=$(S).find("text.xtick").get().map(function(V){var W=V.getBBox();return W.y+W.height}),R=T.length?Math.max.apply(T,T):Q+10;var K=E(S,M,P,L-M,Q-P,"ns","ew");$(K).mousemove(function(V){D.hover(S,V)}).mouseout(function(V){D.unhover(S,V)}).click(function(V){D.click(S,V)});$(S.hoverlayer.node()).mousemove(function(V){V.target=K;D.hover(S,V)}).click(function(V){V.target=K;D.click(S,V)});S.hoverlayer.node().onmousedown=K.onmousedown;E(S,M*0.9+L*0.1,Q,(L-M)*0.8,R-Q,"","ew");E(S,M,Q,(L-M)*0.1,R-Q,"","w");E(S,M*0.1+L*0.9,Q,(L-M)*0.1,R-Q,"","e");E(S,N,P*0.9+Q*0.1,M-N,(Q-P)*0.8,"ns","");E(S,N,Q*0.9+P*0.1,M-N,(Q-P)*0.1,"s","");E(S,N,P,M-N,(Q-P)*0.1,"n","");E(S,N,P+Q-R,M-N,R-Q,"n","w");E(S,L,P+Q-R,M-N,R-Q,"n","e");E(S,N,Q,M-N,R-Q,"s","w");E(S,L,Q,M-N,R-Q,"s","e")};var B=60,C=Math.PI*B/180,F=1/Math.sin(C),J=Math.cos(C),I=Math.sin(C);D.MAXDIST=20;D.hover=function(Z,p){if(typeof Z=="string"){Z=document.getElementById(Z)}var W=Z.layout,AB=W.xaxis,h=W.yaxis,e=p.hovermode||W.hovermode;if(["x","y","closest"].indexOf(e)==-1||$(Z).find("#zoombox").length||Z.dragging||!Z.calcdata){return D.unhover(Z)}var o=[],a,X,S,z,U,w,u;if($.isArray(p)){e="array";a=p.map(function(y){var x=Z.calcdata.filter(function(AQ){return AQ[0].t.curve==y.curveNumber});return x.length?x[0]:null})}else{a=Z.calcdata;if(p.target&&("clientX" in p)&&("clientY" in p)){if($(Z).triggerHandler("plotly_beforehover",p)===false){return }var d=p.target.getBoundingClientRect();X=p.clientX-d.left;S=p.clientY-d.top;if(X<0||X>d.width||S<0||S>d.height){return D.unhover(Z)}}if("xval" in p){z=p.xval;X=AB.c2p(z)}else{if("xpx" in p){X=p.xpx}}if(X===undefined){X=Z.plotwidth/2}if(z===undefined){z=AB.p2c(X)}if("yval" in p){U=p.yval;S=h.c2p(U)}else{if("ypx" in p){S=p.ypx}}if(S===undefined){S=Z.plotheight/2}if(U===undefined){U=h.p2c(S)}if(!$.isNumeric(X)||!$.isNumeric(S)){console.log("Plotly.Fx.hover failed",p,Z);return }}var Q=Infinity;var t=a.filter(function(x){return !(Plotly.Plots.isBar(x[0].t.type)&&x[0].t.bardir=="h")});if(e=="x"&&!t.length){e="y"}var c=e=="y"&&a.length>1;a.forEach(function(AZ,x){if(!AZ){return }var Ad=null,AW=AZ[0].t,AY=e,Ah,Af,AQ,y,AV,AU,AT,AX,AR,Ag,Ak,Aj;if(AY!="closest"){Q=Infinity}if(AY=="array"){var Am=p[x];if("pointNumber" in Am){Ad=Am.pointNumber;AY="closest"}else{AY="";if("xval" in Am){z=Am.xval;X=AB.c2p(z);AY="x"}if("yval" in Am){U=Am.yval;S=h.c2p(U);AY=AY?"closest":"y"}}}if(Plotly.Plots.isHeatmap(AW.type)){if(Q<D.MAXDIST){return }AY="closest";var AS=AZ[0].z;w=AZ[0].x;u=AZ[0].y;if(Ad!==null){try{Ak=Math.round(Ad[1]);Aj=Math.round(Ad[0])}catch(Ai){console.log("Error hovering on heatmap, pointNumber must be [row,col], found:",Ad);return }if(Ak<0||Ak>=AS[0].length||Aj<0||Aj>AS.length){return }}else{if(H(z-w[0],z-w[w.length-1])>0||H(U-u[0],U-u[u.length-1])>0){return }else{Ak=Math.max(0,Math.min(w.length-2,Plotly.Lib.findBin(z,w)));Aj=Math.max(0,Math.min(u.length-2,Plotly.Lib.findBin(U,u)))}}Ah=AB.c2p(w[Ak]);Af=AB.c2p(w[Ak+1]);AQ=h.c2p(u[Aj]);y=h.c2p(u[Aj+1]);if(AW.zsmooth){Ah=Af=(Ah+Af)/2;AQ=y=(AQ+y)/2}o.push({i:0,dist:D.MAXDIST+10,curvenum:x,x0:Ah,x1:Af,y0:AQ,y1:y,xLabel:(w[Ak]+w[Ak+1])/2,yLabel:(u[Aj]+u[Aj+1])/2,zLabel:AS[Aj][Ak]});return }else{if(Plotly.Plots.isBar(AW.type)){if(AW.bardir=="h"){AR=function(An){return[AB.c2p(An.s+An.b,true)]};AV=function(Ap){var Ao=AB.c2p(Ap.b,true),An=AB.c2p(Ap.b+Ap.s,true);return H(Ao-X,An-X)+(X-An)/(Ao-An)};AT=function(An){return An.s};Ag=(e=="y")?function(An){return[h.c2p(An.p-AW.dbar/2,true),h.c2p(An.p+AW.dbar/2,true)]}:function(An){return[h.c2p(An.p+AW.poffset,true),h.c2p(An.p+AW.poffset+AW.barwidth,true)]};AU=function(An){var Ao=Ag(An);return H(Ao[0]-S,Ao[1]-S)};AX=function(An){return An.p}}else{Ag=function(An){return[h.c2p(An.s+An.b,true)]};AU=function(Ap){var Ao=h.c2p(Ap.b,true),An=h.c2p(Ap.b+Ap.s,true);return H(Ao-S,An-S)+(S-An)/(Ao-An)};AX=function(An){return An.s};AR=(e=="x")?function(An){return[AB.c2p(An.p-AW.dbar/2,true),AB.c2p(An.p+AW.dbar/2,true)]}:function(An){return[AB.c2p(An.p+AW.poffset,true),AB.c2p(An.p+AW.poffset+AW.barwidth,true)]};AV=function(Ao){var An=AR(Ao);return H(An[0]-X,An[1]-X)};AT=function(An){return An.p}}}else{if(AW.type=="box"){var Al=(AY=="x")?0:D.MAXDIST;AY="x";AR=function(An){return[AB.c2p(An.x+AW.bx-AW.bdx,true),AB.c2p(An.x+AW.bx+AW.bdx,true)]};AV=function(Ao){var An=AR(Ao);return H(An[0]-X,An[1]-X)+Al};AT=function(An){return An.x}}else{AV=function(An){return Math.abs(AB.c2p(An.x)-X)};AU=function(An){return Math.abs(h.c2p(An.y)-S)};AR=function(An){return[AB.c2p(An.x)]};Ag=function(An){return[h.c2p(An.y)]};AT=function(An){return An.x};AX=function(An){return An.y}}}}if(Ad!==null){if(Ad<0||Ad>=AZ.length){return }Q=0}else{var Ab={x:AV,y:AU,closest:function(An){return Math.sqrt(Math.pow(AV(An),2)+Math.pow(AU(An),2))}}[AY];AZ.forEach(function(Ao,An){var Ap=Ab(Ao);if(Ap<Q){Q=Ap;Ad=An}})}if(!$.isNumeric(Ad)||Q>D.MAXDIST){return }var Ae=AZ[Ad];w=AR(Ae);var Ac={i:Ad,dist:Q,curvenum:x,x0:w[0],x1:w[w.length-1],xLabel:AT(Ae),name:AW.name},Aa;if(AW.type=="box"){["min","q1","med","q3","max","mean"].forEach(function(An){if(An=="mean"&&!AW.mean){return }if(!(An in Ae)){return }u=h.c2p(Ae[An],true);Aa=$.extend({},Ac,{y0:u,y1:u,yLabel:Ae[An]});if(An=="mean"&&("sd" in Ae)&&AW.mean=="sd"){Aa.ysd=Ae.sd}if(An!="med"){Aa.name=""}o.push(Aa)})}else{u=Ag(Ae);$.extend(Ac,{y0:u[0],y1:u[u.length-1],yLabel:AX(Ae)});if(Ae.tx){Ac.text=Ae.tx}o.push(Ac)}});var j=Infinity;o=o.filter(function(x){if(x&&("dist" in x)){j=Math.min(j,x.dist)}return x&&$.isNumeric(x.curvenum)&&x.i>=0&&x.i<a[x.curvenum].length&&$.isNumeric(x.x0)&&$.isNumeric(x.y0)&&$.isNumeric(AB.c2l(x.xLabel))&&$.isNumeric(h.c2l(x.yLabel))});if(o.length===0){return D.unhover(Z)}if(e=="closest"){o=[o[o.length-1]]}var L;o.forEach(function(y,x){y.posref=e=="y"?(y.x0+y.x1)/2:(y.y0+y.y1)/2;y.x0=Plotly.Lib.constrain(y.x0,0,Z.plotwidth);y.x1=Plotly.Lib.constrain(y.x1,0,Z.plotwidth);y.y0=Plotly.Lib.constrain(y.y0,0,Z.plotheight);y.y1=Plotly.Lib.constrain(y.y1,0,Z.plotheight);y.xLabel=Plotly.Axes.tickText(AB,AB.c2l(y.xLabel),"hover");y.yLabel=Plotly.Axes.tickText(h,h.c2l(y.yLabel),"hover");if(y.dist==j&&L===undefined){L=x}if("xsd" in y){y.xLabel.text+=" &plusmn; "+Plotly.Axes.tickText(AB,AB.c2l(y.xsd),"hover").text}if("ysd" in y){y.yLabel.text+=" &plusmn; "+Plotly.Axes.tickText(h,h.c2l(y.ysd),"hover").text}});if(!L){L=0}Z.hoverlayer.selectAll("g.axistext").remove();var T=o[L],k=13,q="Arial, sans-serif",AM=3,f=6,R=Z.paperdiv.node().getBoundingClientRect().top,r="";if(j<=D.MAXDIST&&["array","closest"].indexOf(e)==-1){var AC=Z.hoverlayer.append("g").classed("axistext",true);var V=AC.append("path").style("fill","#444").attr("stroke-width",1).attr("stroke","#fff");var AP=AC.append("text").call(Plotly.Drawing.font,q,k,"#fff");r=T[e=="y"?"yLabel":"xLabel"].text;Plotly.Drawing.styleText(AP.node(),r);var m=AP.node().getBoundingClientRect();if(e=="x"){AP.attr("text-anchor","middle").call(Plotly.Drawing.setPosition,0,R-m.top+f+AM);V.attr("d","M0,0L"+f+","+f+"H"+(AM+m.width/2)+"v"+(AM*2+m.height)+"H-"+(AM+m.width/2)+"V"+f+"H-"+f+"Z");AC.attr("transform","translate("+(Z.margin.l+(T.x0+T.x1)/2)+","+(W.height-Z.margin.b)+")")}else{AP.attr("text-anchor","end").call(Plotly.Drawing.setPosition,-AM-f,R-m.top-m.height/2);V.attr("d","M0,0L-"+f+","+f+"V"+(AM+m.height/2)+"h-"+(AM*2+m.width)+"V-"+(AM+m.height/2)+"H-"+f+"V-"+f+"Z");AC.attr("transform","translate("+Z.margin.l+","+(Z.margin.t+(T.y0+T.y1)/2)+")")}o=o.filter(function(x){return("zLabel" in x)||x[e=="y"?"yLabel":"xLabel"].text==r})}var Y=G(W.plot_bgcolor,W.paper_bgcolor);var AD=Z.hoverlayer.selectAll("g.hovertext").data(o,function(x){return String(x.curvenum)+String(x.i)+String(x.x0)+String(x.y0)+x.name});AD.enter().append("g").classed("hovertext",true).each(function(y){var x=d3.select(this);x.append("rect").call(Plotly.Drawing.fillColor,Plotly.Drawing.addOpacity(Y,0.8));x.append("text").classed("name",true).call(Plotly.Drawing.font,q,k);x.append("path").attr("stroke-width",1);x.append("text").classed("nums",true).call(Plotly.Drawing.font,q,k)});AD.exit().remove();AD.each(function(AU){var AT=d3.select(this).attr("transform",""),Ab=a[AU.curvenum][0].t,y=(AU.name&&!("zLabel" in AU)&&Z.data.length>1)?$("<p>"+AU.name+"</p>").text():"",AX=0,AZ,AR,Ae;if(!Ab.visible){AR=""}else{if(Ab.type=="scatter"){if(Ab.mode=="lines"){AR=(Ab.lc&&Plotly.Drawing.opacity(Ab.lc))?Ab.lc:Ab.fc}else{if(Ab.mode=="none"){AR=Ab.fill?Ab.fc:""}else{AR=(Ab.mc&&Plotly.Drawing.opacity(Ab.mc))?Ab.mc:(Ab.mlc&&Plotly.Drawing.opacity(Ab.mlc)&&Ab.mlw)?Ab.mlc:"";if(AR){AX=0.3}else{AR=(Ab.lc&&Plotly.Drawing.opacity(Ab.lc)&&Ab.mode.indexOf("lines")!=-1&&Ab.lw)?Ab.lc:Ab.fc}}}}else{if(Plotly.Plots.isBar(Ab.type)){AR=(Ab.mc&&Plotly.Drawing.opacity(Ab.mc))?Ab.mc:(Ab.mlc&&Plotly.Drawing.opacity(Ab.mlc)&&Ab.mlw)?Ab.mlc:""}else{if(Ab.type=="box"){AR=(Ab.lc&&Plotly.Drawing.opacity(Ab.lc)&&Ab.lw)?Ab.lc:(Ab.mc&&Plotly.Drawing.opacity(Ab.mc)&&Ab.boxpts)?Ab.mc:Ab.fc}}}}if(!AR||!Plotly.Drawing.opacity(AR)){AR="#444"}AR=G(AR,Y,AX);Ae=tinycolor(AR).toHsl().l>0.5?"#000":"#FFF";if(y.length>15){y=y.substr(0,12)+"..."}if("zLabel" in AU){AZ="x: "+AU.xLabel.text+"<br>y: "+AU.yLabel.text+"<br>z: "+AU.zLabel}else{if(e=="x"&&AU.xLabel.text==r){AZ=AU.yLabel.text}else{if(e=="y"&&AU.yLabel.text==r){AZ=AU.xLabel.text}else{AZ="("+AU.xLabel.text+", "+AU.yLabel.text+")"}}}if(AU.text){AZ+="<br>"+AU.text}var AS=AT.select("text.nums").style("fill",Ae).text("").call(Plotly.Drawing.setPosition,0,0);Plotly.Drawing.styleText(AS.node(),AZ);var AQ=AT.select("text.name"),AV=0;if(y){AQ.style("fill",AR).text("").call(Plotly.Drawing.setPosition,0,0);Plotly.Drawing.styleText(AQ.node(),y);AV=AQ.node().getBoundingClientRect().width+2*AM}else{AQ.remove();AT.select("rect").remove()}AT.select("path").style("fill",AR).attr("stroke",Ae);var AY=AS.node().getBoundingClientRect(),x=Z.margin.l+(AU.x0+AU.x1)/2,Ad=Z.margin.t+(AU.y0+AU.y1)/2,Ac=Math.abs(AU.x1-AU.x0),Aa=Math.abs(AU.y1-AU.y0),AW=AY.width+f+AM+AV;AU.ty0=R-AY.top;AU.bx=AY.width+2*AM;AU.by=AY.height+2*AM;AU.anchor="start";AU.txwidth=AY.width;AU.tx2width=AV;if(c){AU.pos=x;Ad+=Aa/2;if(Ad+AW>W.height){AU.anchor="end";Ad-=Aa;if(Ad-AW<0){AU.anchor="middle";Ad+=Aa/2}}}else{AU.pos=Ad;x+=Ac/2;if(x+AW>W.width){AU.anchor="end";x-=Ac;if(x-AW<0){AU.anchor="middle";x+=Ac/2}}}AS.attr("text-anchor",AU.anchor);if(AV){AQ.attr("text-anchor",AU.anchor)}AT.attr("transform","translate("+x+","+Ad+")"+(c?"rotate("+B+")":""))});var O=0,AK=e=="y"?Z.margin.l:Z.margin.t,g=e=="y"?(W.width-Z.margin.r):W.height-Z.margin.b,AA=o.map(function(y,x){return[{i:x,dp:0,pos:y.pos,posref:y.posref,size:y.by*(c?F:1)/2}]}).sort(function(y,x){return y[0].posref-x[0].posref}),AN,N,AO,AH,M,P;function K(x){P+=x.dp}function b(x){x.dp+=N}function v(x){x.dp-=AO}function AI(x){var AR=x[0],y=x[x.length-1];N=AK-AR.pos-AR.dp+AR.size;AO=y.pos+y.dp+y.size-g;if(N>0.01){x.forEach(b);AN=false}if(AO<0.01){return }if(N<-0.01){x.forEach(v);AN=false}if(!AN){return }if(AA.length>1){console.log("hover error... how did we get here?",AA)}var AQ=0;for(AH=0;AH<x.length;AH++){M=x[AH];if(M.pos+M.dp+M.size>g){AQ++}}for(AH=x.length-1;AH>=0;AH--){if(AQ<=0){break}M=x[AH];if(M.pos>g-1){M.del=true;AQ--}}for(AH=0;AH<x.length;AH++){if(AQ<=0){break}M=x[AH];if(M.pos<AK+1){M.del=true;AQ--;AO=M.size*2;x.forEach(v)}}for(AH=x.length-1;AH>=0;AH--){if(AQ<=0){break}M=x[AH];if(M.pos+M.dp+M.size>g){M.del=true;AQ--}}}while(!AN&&O<=o.length){O++;AN=true;AH=0;while(AH<AA.length-1){var AG=AA[AH],AE=AA[AH+1],AL=AG[AG.length-1],AJ=AE[0];N=AL.pos+AL.dp+AL.size-AJ.pos-AJ.dp+AJ.size;if(N>0.01){AE.forEach(b);AG.push.apply(AG,AE);AA.splice(AH+1,1);P=0;AG.forEach(K);AO=P/AG.length;AG.forEach(v);AN=false}else{AH++}}AA.forEach(AI)}AA.forEach(function(x){x.forEach(function(y){o[y.i].offset=y.dp;o[y.i].del=y.del})});AD.each(function(AW){var AV=d3.select(this);if(AW.del){AV.remove();return }var AR=AW.anchor=="end"?-1:1,AT=AV.select("text.nums"),AQ={start:1,end:-1,middle:0}[AW.anchor],y=AQ*(f+AM),x=y+AQ*(AW.txwidth+AM),AU=0,AS=AW.offset;if(AW.anchor=="middle"){y-=AW.tx2width/2;x-=AW.tx2width/2}if(c){AS*=-I;AU=AW.offset*J}AV.select("path").attr("d",AW.anchor=="middle"?("M-"+(AW.bx/2)+",-"+(AW.by/2)+"h"+AW.bx+"v"+AW.by+"h-"+AW.bx+"Z"):("M0,0L"+(AR*f+AU)+","+(f+AS)+"v"+(AW.by/2-f)+"h"+(AR*AW.bx)+"v-"+AW.by+"H"+(AR*f+AU)+"V"+(AS-f)+"Z"));AT.call(Plotly.Drawing.setPosition,y+AU,AS+AW.ty0-AW.by/2+AM);AT.selectAll("tspan.nl").attr("x",AT.attr("x"));if(AW.tx2width){AV.select("text.name").call(Plotly.Drawing.setPosition,x+AQ*AM+AU,AS+AW.ty0-AW.by/2+AM);AV.select("rect").call(Plotly.Drawing.setRect,x+(AQ-1)*AW.tx2width/2+AU,AS-AW.by/2-1,AW.tx2width,AW.by+2)}});var AF=Z.hoverdata;Z.hoverdata=o.map(function(y){var AQ=a[y.curvenum][0].t.curve,x={data:Z.data[AQ],curveNumber:AQ,pointNumber:y.i,x:y.xLabel.x,y:y.yLabel.x,xaxis:AB,yaxis:h};if("zLabel" in y){x.z=y.zLabel}return x});if(!p.target){return }var l=!AF||AF.length!=Z.hoverdata.length;if(!l){AF.forEach(function(y,x){if(y.curveNumber!=Z.hoverdata[x].curveNumber||y.pointNumber!=Z.hoverdata[x].pointNumber){l=true}})}if(!l){return }if(AF){$(Z).trigger("plotly_unhover",{points:AF})}$(Z).trigger("plotly_hover",{points:Z.hoverdata})};D.unhover=function(L,K){if(typeof L=="string"){L=document.getElementById(L)}if(K&&K.relatedTarget&&$(K.relatedTarget).parents('[class="hoverlayer"]').length){D.hover(L,K)}else{if(K&&$(L).triggerHandler("plotly_beforehover",K)===false){return }L.hoverlayer.selectAll("g").remove();if(L.hoverdata){$(L).trigger("plotly_unhover",{points:L.hoverdata})}L.hoverdata=undefined}};D.click=function(L,K){if(L.hoverdata){$(L).trigger("plotly_click",{points:L.hoverdata})}};D.modeBar=function(K){var L=$(K).find(".modebar"),N=K.margin;function M(){L.find("button").each(function(){var P=$(this),O=P.attr("data-val")||true,Q=K.layout[P.attr("data-attr")];P.toggleClass("active",Q==O)})}if(L.length===0){L=$('<div class="modebar"><div class="btn-group pull-left"><button class="btn btn-mini ploticon" data-attr="dragmode" data-val="zoom" rel="tooltip" title="Zoom"><i class="ploticon-zoombox"></i></button><button class="btn btn-mini ploticon" data-attr="dragmode" data-val="pan" rel="tooltip" title="Pan">   <i class="ploticon-pan"></i></button></div><div class="btn-group pull-left"><button class="btn btn-mini ploticon" data-attr="zoom" data-val="in" rel="tooltip" title="Zoom in"><i class="ploticon-zoom_plus"></i></button><button class="btn btn-mini ploticon" data-attr="zoom" data-val="out" rel="tooltip" title="Zoom out"><i class="ploticon-zoom_minus"></i></button><button class="btn btn-mini ploticon" data-attr="allaxes.autorange" data-val="" rel="tooltip" title="Autoscale"><i class="ploticon-autoscale"></i></button></div><div class="btn-group pull-left"><button class="btn btn-mini ploticon" data-attr="hovermode" data-val="closest" rel="tooltip" title="Closest data"><i class="ploticon-tooltip_basic"></i></button><button class="btn btn-mini ploticon" data-attr="hovermode" data-val="x" rel="tooltip" title="Compare data"><i class="ploticon-tooltip_compare"></i></button></div></div>').appendTo(K.paperdiv.node()).css({position:"absolute",right:0,top:0});L.find("button").tipsy({gravity:"n",opacity:1}).click(function(){var S=$(this).attr("data-attr"),V=$(this).attr("data-val")||true;if(S=="zoom"){var R=K.layout.xaxis.range,U=K.layout.yaxis.range,T=(V=="in")?0.5:2,Q=(1+T)/2,O=(1-T)/2,P={"xaxis.range[0]":Q*R[0]+O*R[1],"xaxis.range[1]":Q*R[1]+O*R[0],"yaxis.range[0]":Q*U[0]+O*U[1],"yaxis.range[1]":Q*U[1]+O*U[0]};Plotly.relayout(K,P)}else{Plotly.relayout(K,S,V)}M();if(S=="dragmode"){D.setCursor(K.paper.select(".nsewdrag"),{pan:"move",zoom:"crosshair"}[V])}})}L.css({right:(N.r-N.p)+"px",top:Math.max(0,N.t-L.height()-N.p-4)+"px"});M()};SHOWZOOMOUTTIP=true;function E(g,W,V,X,c,k,e){var j=0,U=1,b=g.layout,d=b.xaxis,K=b.yaxis,Z=g.plotwidth,f=g.plotheight,P=(k+e=="nsew")?({pan:"move",zoom:"crosshair"}[b.dragmode]):(k+e).toLowerCase()+"-resize",N=g.draglayer.append("rect").classed("drag",true).classed(k+e+"drag",true).call(Plotly.Drawing.setRect,W,V,X,c).call(D.setCursor,P).style("fill","black").style("opacity",0).attr("stroke-width",0).node();N.onmousedown=function(h){if(D.dragClear(g)){return true}g.dragging=true;var l=(new Date()).getTime();if(l-j<D.DBLCLICKDELAY){U+=1}else{U=1;j=l}if(k+e=="nsew"&&((b.dragmode=="zoom")?!h.shiftKey:h.shiftKey)){O(h)}else{M(h)}return Plotly.Lib.pauseEvent(h)};var a=[0,0,Z,f],T=null,R=300;if(k.length*e.length!=1){$(N).on("mousewheel DOMMouseScroll",function(t){if(!g.mainsite){return }clearTimeout(T);var q=Math.exp(-Math.min(Math.max(t.originalEvent.wheelDelta,-50),50)/200),m=$(g).find(".nsewdrag")[0].getBoundingClientRect();if(e){d.range=[Number(d.range[0]),Number(d.range[1])];var r=(t.originalEvent.clientX-m.left)/m.width,l=d.range[0]+(d.range[1]-d.range[0])*r,p=a[0]+a[2]*r;d.range=[l+(d.range[0]-l)*q,l+(d.range[1]-l)*q];a[2]*=q;a[0]=p-a[2]*r}if(k){K.range=[Number(K.range[0]),Number(K.range[1])];var h=(m.bottom-t.originalEvent.clientY)/m.height,o=K.range[0]+(K.range[1]-K.range[0])*h;vby0=a[1]+a[3]*(1-h);K.range=[o+(K.range[0]-o)*q,o+(K.range[1]-o)*q];a[3]*=q;a[1]=vby0-a[3]*(1-h)}g.plot.attr("viewBox",a.join(" "));Q(k,e);T=setTimeout(function(){a=[0,0,g.plotwidth,g.plotheight];Y()},R)})}function O(r){var h=$(g).find(".nsewdrag")[0].getBoundingClientRect(),m=r.clientX-h.left,u=r.clientY-h.top,q={l:m,r:m,w:0,t:u,b:u,h:0},l=g.hmpixcount?(g.hmlumcount/g.hmpixcount):tinycolor(g.layout.plot_bgcolor).toHsl().l,v="M0,0H"+Z+"V"+f+"H0V0",o=g.plot.append("path").attr("id","zoombox").style("fill",l>0.2?"rgba(0,0,0,0)":"rgba(255,255,255,0").attr("stroke-width",0).attr("d",v+"Z"),p=false;window.onmousemove=function(y){var w=Math.max(0,Math.min(Z,y.clientX-h.left)),x=Math.max(0,Math.min(f,y.clientY-h.top));q={l:Math.min(m,w),r:Math.max(m,w),w:Math.abs(m-w),t:Math.min(u,x),b:Math.max(u,x),h:Math.abs(u-x)};o.attr("d",v+"M"+(q.l)+","+(q.t)+"v"+(q.h)+"h"+(q.w)+"v-"+(q.h)+"h-"+(q.w)+"Z");if(!p){o.transition().style("fill",l>0.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200);p=true}return Plotly.Lib.pauseEvent(r)};window.onmouseup=function(y){g.dragging=false;window.onmousemove=null;window.onmouseup=null;if(Math.min(q.h,q.w)<D.MINDRAG*2){if(U==2&&(new Date()).getTime()-j<D.DBLCLICKDELAY){S()}return t()}function z(){d.range=[d.range[0]+(d.range[1]-d.range[0])*(q.l)/Z,d.range[0]+(d.range[1]-d.range[0])*(q.r)/Z];K.range=[K.range[0]+(K.range[1]-K.range[0])*(f-q.b)/f,K.range[0]+(K.range[1]-K.range[0])*(f-q.t)/f];t();Y();if(SHOWZOOMOUTTIP&&(!g.mainsite||!signedin("noprompt"))&&g.data){Plotly.Lib.notifier("Double-click to<br>zoom back out","long");SHOWZOOMOUTTIP=false}}function w(){d.range=[(d.range[0]*(q.r)+d.range[1]*(-q.l))/q.w,(d.range[0]*(q.r-Z)+d.range[1]*(Z-q.l))/q.w];K.range=[(K.range[0]*(f-q.t)+K.range[1]*(q.b-f))/q.h,(K.range[0]*(-q.t)+K.range[1]*(q.b))/q.h];t();Y()}if(r.altKey||r.ctrlKey||r.metaKey||y.altKey||y.ctrlKey||y.metaKey){$('<div class="modal-backdrop fade" id="zoomboxbackdrop"></div><div class="open" id="zoomboxmenu"><ul class="dropdown-menu"><li><a id="zoomboxin">Zoom In</a></li><li><a id="zoomboxout">Zoom Out</a></li></ul></div>').appendTo("body");var x=$("#zoomboxmenu ul")[0].getBoundingClientRect();$("#zoomboxmenu ul").css({left:(Math.min(y.clientX,h.right-x.width)+window.scrollX)+"px",top:(Math.min(y.clientY,h.bottom-x.height)+window.scrollY)+"px","z-index":20001});$("#zoomboxbackdrop,#zoombox").click(t);$("#zoomboxin").click(z);$("#zoomboxout").click(w)}else{z()}return Plotly.Lib.pauseEvent(y)};function t(){$("#zoombox,#zoomboxbackdrop,#zoomboxmenu").remove()}}function M(h){g.dragged=false;window.onmousemove=function(o){var m=o.clientX-h.clientX,l=o.clientY-h.clientY;g.dragged=(e?Math.abs(m):0)+(k?Math.abs(l):0)>D.MINDRAG;if(g.dragged){L(m,l)}else{L(0,0)}return Plotly.Lib.pauseEvent(o)};window.onmouseup=function(l){window.onmousemove=null;window.onmouseup=null;g.dragging=false;if(g.dragged){Y()}else{if((new Date()).getTime()-j<D.DBLCLICKDELAY){if(U==2&&(k+e).length!=1){S()}else{if(U==1){if((k+e).length==1){D.autoGrowInput(N)}}}}}return Plotly.Lib.pauseEvent(l)}}function L(m,l){var o=g.plotwidth,q=g.plotheight;if(e=="ew"||k=="ns"){if(e){d.range=[d._r[0]-m/d._m,d._r[1]-m/d._m]}if(k){K.range=[K._r[0]-l/K._m,K._r[1]-l/K._m]}g.plot.attr("viewBox",(e?-m:0)+" "+(k?-l:0)+" "+o+" "+q);Q(k,e);return }function p(r){return 1-((r>=0)?Math.min(r,0.9):1/(1/Math.max(r,-0.3)+3.222))}function h(r,u,v,t){r.range[u]=r._r[1-u]+(r._r[u]-r._r[1-u])/p(v/t);return t*(r._r[u]-r.range[u])/(r._r[u]-r._r[1-u])}if(e=="w"){m=h(d,0,m,o)}else{if(e=="e"){m=h(d,1,-m,o)}else{if(!e){m=0}}}if(k=="n"){l=h(K,1,l,q)}else{if(k=="s"){l=h(K,0,-l,q)}else{if(!k){l=0}}}g.plot.attr("viewBox",((e=="w")?m:0)+" "+((k=="n")?l:0)+" "+(o-m)+" "+(q-l));Q(k,e)}function Q(m,l){if(l){Plotly.Axes.doTicks(g,"x")}if(m){Plotly.Axes.doTicks(g,"y")}if(b.annotations){for(var h in b.annotations){if(b.annotations[h].ref=="plot"){Plotly.Annotations.draw(g,h)}}}}function S(){var h={};if(e){h["xaxis.autorange"]=true}if(k){h["yaxis.autorange"]=true}Plotly.relayout(g,h)}function Y(){var m=g.layout.xaxis,h=g.layout.yaxis,l={};if(m._r[0]!=m.range[0]){l["xaxis.range[0]"]=m.range[0]}if(m._r[1]!=m.range[1]){l["xaxis.range[1]"]=m.range[1]}if(h._r[0]!=h.range[0]){l["yaxis.range[0]"]=h.range[0]}if(h._r[1]!=h.range[1]){l["yaxis.range[1]"]=h.range[1]}m.range=m._r.slice();h.range=h._r.slice();g.plot.attr("viewBox","0 0 "+g.plotwidth+" "+g.plotheight);Plotly.relayout(g,l)}return N}D.dragAlign=function(M,O,K,Q){var L=(M-K)/(Q-K),P=L+O/(Q-K),N=(L+P)/2;if(L<(2/3)-N){return L}if(P>(4/3)-N){return P}return N};D.dragCursors=function(K,L){if(Math.abs(K)==100){return"col-resize"}if(Math.abs(L)==100){return"row-resize"}return[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]][Plotly.Lib.constrain(Math.floor(L*3),0,2)][Plotly.Lib.constrain(Math.floor(K*3),0,2)]};D.dragClear=function(K){if($(".popover").length){return true}if(K.input){K.input.trigger("blur")}return false};D.autoGrowInput=function(S){var p=$(S).parents(".ui-tabs-panel, #embedded_graph")[0],h=p.layout,c=d3.select(S),L=c.attr("class"),R=$(S),T,P={maxWidth:1000,minWidth:20},q={},b=(L.slice(1,6)=="title")?"title":(L.slice(0,4)=="drag")?"drag":(L.slice(0,6)=="legend")?"legend":(L.slice(0,10)=="annotation")?"annotation":"",O,W,Q,j,m,f;$(S).tooltip("destroy");if(!b||(!p.mainsite&&b!="drag")){console.log("oops, autoGrowInput error",L,S);return }if(b=="title"){T=Plotly.Lib.nestedProperty(h,{x:"xaxis.title",y:"yaxis.title",g:"title"}[L.charAt(0)]);if(!$.trim(T.get())){c.remove();T.set(".");Plotly.Plots.titles(p,L);T.set("");c=p.paper.select("."+L);S=c.node()}P.align=L=="ytitle"?"left":"center"}else{if(b=="drag"){O=(["n","s"].indexOf(L.charAt(5))!=-1)?"y":"x";W=h[O+"axis"];Q=(["s","w"].indexOf(L.charAt(5))!=-1)?0:1;T=Plotly.Lib.nestedProperty(h,O+"axis.range["+Q+"]");P.align=(L=="drag edrag")?"right":"left";R=$(p).find(".xtitle")}else{if(b=="legend"){var M=Number(L.split("-")[1]);T=Plotly.Lib.nestedProperty(p.data[M],"name");P.align="left"}else{if(b=="annotation"){f=Number(R.parent().attr("data-index"));T=Plotly.Lib.nestedProperty(h,"annotations["+f+"].text");P.align="center"}}}}var e=["font-size","font-family","font-weight","font-style","font-stretch","font-variant","letter-spacing","word-spacing"];var U=["font-size","letter-spacing","word-spacing"];for(j in e){var g=R.attr(e[j]);if(U.indexOf(e[j])>=0&&Number(g)>0){g+="px"}if(g){q[e[j]]=g}}P.comfortZone=(Number(String(q["font-size"]).split("px")[0])||20)+3;var o=c.attr("transform"),K=S.getBoundingClientRect(),Y=$("<input/>").appendTo(p);p.input=Y;Y.css(q).css({position:"absolute",top:0,left:0,"z-index":6000});if(b=="drag"){var X=T.get(),a=Math.abs(X-W.range[1-Q]);if(W.type=="date"){Y.val(Plotly.Lib.ms2DateTime(X,a))}else{if(W.type=="log"){m=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3;Y.val(d3.format("."+String(m)+"g")(Math.pow(10,X)))}else{m=Math.floor(Math.log(Math.abs(X))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4;Y.val(d3.format("."+String(m)+"g")(X))}}}else{Y.val($.trim(T.get()).replace(/(\r\n?|\n\r?)/g,"<br>"))}var t=Y.val(),N=$("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",whiteSpace:"nowrap"}).css(q).insertAfter(Y).html(A(t));function V(){return Plotly.Lib.constrain(N.width()+P.comfortZone,P.minWidth,P.maxWidth)}Y.width(V());var k=Y[0].getBoundingClientRect(),r=K.left-k.left;Y.css("top",(K.top-k.top+(K.height-k.height)/2)+"px");if(P.align=="right"){r+=K.width-k.width}else{if(P.align=="center"){r+=(K.width+P.comfortZone-k.width)/2}}Y.css("left",r+"px");var l={left:0,center:0.5,right:1}[P.align];var d=Y.position().left+Y.width()*l;if(b=="annotation"){p.paper.selectAll('svg.annotation[data-index="'+f+'"]').remove()}else{if(b!="drag"){p.paper.selectAll('[class="'+L+'"]').remove()}}Y[0].select();function Z(){Y.remove();N.remove();p.input=null}Y.bind("keyup keydown blur update",function(y){var u=t;t=Y.val();var w=$.trim(t);if(!p.input||!h){return }if((y.type=="blur")||(y.type=="keydown"&&y.which==13)){if(b=="drag"){w=W.c2l(W.type=="category"?w:Plotly.Axes.convertToNums(w,W));if(!$.isNumeric(w)){return }}if(b=="legend"){Plotly.restyle(p,T.astr,w,M)}else{var z={};z[T.astr]=w;if(b=="annotation"){if(h.xaxis.autorange){z["xaxis.autorange"]=true}if(h.yaxis.autorange){z["yaxis.autorange"]=true}}Plotly.relayout(p,z)}Z()}else{if(y.type=="keydown"&&y.which==27){if(b=="title"){Plotly.Plots.titles(p,L)}else{if(b=="legend"){Plotly.Legend.draw(p)}}Z()}else{if(t!=u){N.html(A(t));var x=V();Y.css({width:x,left:d-x*l})}}}})};D.setCursor=function(K,L){K.attr("class").split(" ").forEach(function(M){if(M.indexOf("cursor-")===0){K.classed(M,false)}});if(L){K.classed("cursor-"+L,true)}};function A(K){return K.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\s/g,"&nbsp;")}function G(O,L,M){var N=tinycolor(O).toRgb(),P=tinycolor(L||"#FFF").toRgb();if(N.a==1){return O}else{if(M&&N.a<M){N.a=M}}var K=P.a==1?P:{r:255*(1-P.a)+P.r*P.a,g:255*(1-P.a)+P.g*P.a,b:255*(1-P.a)+P.b*P.a};var Q={r:K.r*(1-N.a)+N.r*N.a,g:K.g*(1-N.a)+N.g*N.a,b:K.b*(1-N.a)+N.b*N.a};return tinycolor(Q).toRgbString()}function H(K,L){return(K*L<0||K===0)?0:Infinity}}());(function(){var N=Plotly.Axes={};N.defaultAxis=function(U){return $.extend({range:[-1,6],type:"-",showline:true,mirror:true,linecolor:"#000",linewidth:1,tick0:0,dtick:2,ticks:"outside",ticklen:5,tickwidth:1,tickcolor:"#000",nticks:0,showticklabels:true,tickangle:"auto",exponentformat:"e",showexponent:"all",showgrid:true,gridcolor:"#ddd",gridwidth:1,autorange:true,autotick:true,zeroline:true,zerolinecolor:"#000",zerolinewidth:1,title:"Click to enter X axis title",unit:"",titlefont:{family:"",size:0,color:""},tickfont:{family:"",size:0,color:""}},U)};N.setTypes=function(W){var V=B(W,"x"),U=B(W,"y");if(W.data&&W.data.length&&W.axtypesok!==true){H(V,W,"x");H(U,W,"y");W.axtypesok=true}N.setConvert(V);N.setConvert(U)};function B(W,V){var U=W.layout[P(V)];U._id=V;U._td=W;return U}function P(U){return U.charAt(0)+"axis"+U.substr(1)}function Q(U){return U.charAt(0)+U.substr(5)}function H(W){var U=W._id.charAt(0),V=W._td.data,Y=V[0];if(!Y.type){Y.type="scatter"}if(!W.type){if(W.isdate){W.type="date"}else{if(W.islog){W.type="log"}else{if(W.isdate===false&&W.islog===false){W.type="linear"}}}}delete W.islog;delete W.isdate;W.categories=[];if((Plotly.Plots.isBar(Y.type))&&(Y.bardir=="h")){U={x:"y",y:"x"}[U]}var X=(["histogramx","histogramy"].indexOf(Y.type)!=-1);if(X){if(U=="y"){if(W.type!="log"){W.type="linear"}return }else{U=Y.type.charAt(9)}}if(Y.type=="box"&&U=="x"&&!("x" in Y)&&!("x0" in Y)){W.type="category"}else{if((U in Y)?R(Y[U]):(Plotly.Lib.isDateTime(Y[U+"0"])&&!$.isNumeric(Y[U+"0"]))){W.type="date"}else{if(L(V,U)){W.type="category"}else{if(K(V,U)&&W.type!="linear"){W.type="log"}else{if(W.type!="log"){W.type="linear"}}}}}}function R(V){var U=0,X=0;for(var W in V){if(Plotly.Lib.isDateTime(V[W])){U+=1}if($.isNumeric(V[W])){X+=1}}return(U>X*2)}function K(Z,U){var b=[],f,a,Y;var V=(U=="x")?"y":"x";for(var W in Z){a=Z[W];if(U in a){for(Y in a[U]){f=a[U][Y];if($.isNumeric(f)){if(f<=0){return false}else{if(b.indexOf(f)<0){b.push(f)}}}}}else{if((U+"0" in a)&&("d"+U in a)&&(V in a)){if((a[U+"0"]<=0)||(a[U+"0"]+a["d"+U]*(a[V].length-1)<=0)){return false}for(Y in Z[W][V]){f=a[U+"0"]+a["d"+U]*Y;if(b.indexOf(f)<0){b.push(f)}}}}}var e=Math.max.apply(Math,b),X=Math.min.apply(Math,b);return((e/X>=100)&&(b.sort()[Math.ceil(b.length/4)]<e/10))}function L(Y,W){function V(Z){return !$.isNumeric(Z)&&["","None"].indexOf("v")==-1}var X=0,U=0;Y.forEach(function(e){if(W in e){var b=0,Z=0;for(var a in e[W]){var d=e[W][a];Plotly.Lib.log("unclean",d);d=N.cleanDatum(d);Plotly.Lib.log("clean",d);if(d&&V(d)){Z++}else{if($.isNumeric(d)){b++}}}if(Z>b){X++}else{U++}}else{if(W+"0" in e&&V(e[W+"0"])){X++}else{U++}}});return X>U}N.convertOne=function(Z,X,W){var Y=Z[{x:"y",y:"x"}[X]];if(X in Z){return N.convertToNums(Z[X],W)}else{var U=((X+"0") in Z)?N.convertToNums(Z[X+"0"],W):0,V=(Z["d"+X])?Z["d"+X]:1;return Y.map(function(a,b){return U+b*V})}};N.convertToNums=function(W,V){var U;if(V.type=="date"){U=Plotly.Lib.dateTime2ms}else{if(V.type=="category"){if(!V.categories){V.categories=[]}($.isArray(W)?W:[W]).forEach(function(X){if(V.categories.indexOf(X)==-1){V.categories.push(X)}});U=function(X){var Y=V.categories.indexOf(X);return Y==-1?undefined:Y}}else{U=function(X){X=N.cleanDatum(X);return $.isNumeric(X)?Number(X):undefined}}}if($.isArray(W)){return W.map(U)}else{return U(W)}};N.cleanDatum=function(V){try{V=V.toString().replace("$","").replace(/,/g,"").replace("'","").replace('"',"").replace("%","")}catch(U){console.log(U)}return V};N.setConvert=function(W){function U(Y){return(Y>0)?Math.log(Y)/Math.LN10:null}function X(Y){return Math.pow(10,Y)}function V(Y){return $.isNumeric(Y)?Y:null}W.c2l=(W.type=="log")?U:V;W.l2c=(W.type=="log")?X:V;W.c2p=function(Z,c){var b=W.c2l(Z);if($.isNumeric(b)){return d3.round(W._b+W._m*b,2)}if(c&&$.isNumeric(Z)){var a=W.range[0],Y=W.range[1];return d3.round(W._b+W._m*0.5*(a+Y-3*Math.abs(a-Y)),2)}};W.p2c=function(Y){return W.l2c((Y-W._b)/W._m)};W.setScale=function(){if(!W.range||W.range.length!=2||W.range[0]==W.range[1]){W.range=[-1,1]}if(W._id.charAt(0)=="y"){W._m=W._td.plotheight/(W.range[0]-W.range[1]);W._b=-W._m*W.range[1]}else{W._m=W._td.plotwidth/(W.range[1]-W.range[0]);W._b=-W._m*W.range[0]}};W._min=[];W._max=[];W._minDtick=null;W._forceTick0=null};N.minDtick=function(W,V,X,U){if(["log","category"].indexOf(W.type)!=-1||!U){W._minDtick=0}else{if(W._minDtick===null){W._minDtick=V;W._forceTick0=X}else{if(W._minDtick){if((W._minDtick/V+0.000001)%1<0.000002&&(((X-W._forceTick0)/V%1)+1.000001)%1<0.000002){W._minDtick=V;W._forceTick0=X}else{if((V/W._minDtick+0.000001)%1>0.000002||(((X-W._forceTick0)/W._minDtick%1)+1.000001)%1>0.000002){W._minDtick=0}}}}}};N.doAutoRange=function(U){if(U.autorange&&U._min&&U._max&&U._min.length&&U._max.length){var b,a,V,Y,X,d,Z,W,e=0;for(b=0;b<U._min.length;b++){V=U._min[b];for(a=0;a<U._max.length;a++){Y=U._max[a];W=Y.val-V.val;Z=U._pixrange-V.pad-Y.pad;if(W>0&&Z>0){if(W/Z>e){X=V;d=Y;e=W/Z}}}}if(e){var c=(U.range&&U.range[1]<U.range[0]);U.range=[X.val-e*X.pad,d.val+e*d.pad];if(U.range[0]==U.range[1]){U.range=[U.range[0]-1,U.range[0]+1]}if(c){U.range.reverse()}}}};N.expand=function(a,t,U){if(!a.autorange||!t){return }if(!a._min){a._min=[]}if(!a._max){a._max=[]}if(!U){U={}}if(!a._m){a.setScale()}var o=t.length,q=U.padded?a._pixrange*0.05:0,V=U.tozero&&(a.type=="linear"||a.type=="-"),m,l,e,g,r,W,p,h,d;function X(u){if($.isArray(u)){return function(v){return Math.max(Number(u[v]||0),0)}}else{var j=Math.max(Number(u||0),0);return function(){return j}}}var b=X(U.ppad),c=X(a._m>0?U.ppadplus:U.ppadminus),Y=X(a._m>0?U.ppadminus:U.ppadplus),Z=X(U.vpad);function k(j){if(!d){return true}if(j.val<=e&&j.pad>=h){d=false}else{if(j.val>=e&&j.pad<=h){return false}}return true}function f(j){if(!d){return true}if(j.val>=g&&j.pad>=p){d=false}else{if(j.val<=g&&j.pad<=p){return false}}return true}for(m=0;m<o;m++){if(!$.isNumeric(t[m])){continue}W=b(m);p=(c(m)||W)+q;h=(Y(m)||W)+q;r=Z(m);e=a.c2l(t[m]-r);g=a.c2l(t[m]+r);if(V){e=Math.min(0,e);g=Math.max(0,g)}if($.isNumeric(e)){d=true;a._min=a._min.filter(k);if(d){a._min.push({val:e,pad:(V&&e===0)?0:h})}}if($.isNumeric(g)){d=true;a._max=a._max.filter(f);if(d){a._max.push({val:g,pad:(V&&g===0)?0:p})}}}};N.autoBin=function(b,V,c,f){var h=Plotly.Lib.aggNums(Math.min,null,b),Z=Plotly.Lib.aggNums(Math.max,null,b);if(V.type=="category"){return{start:h-0.5,end:Z+0.5,size:1}}else{var g=c?((Z-h)/c):2*Plotly.Lib.stdev(b)/Math.pow(b.length,f?0.25:0.4);var d={type:V.type,range:[h,Z]};N.autoTicks(d,g);var X=N.tickIncrement(N.tickFirst(d),d.dtick,"reverse");var W=0,U=0;for(var a=0;a<b.length;a++){if(b[a]%1===0){U++}if((1+(b[a]-X)*100/d.dtick)%100<2){W++}}if(U==b.length&&V.type!="date"){X-=0.5;if(d.dtick<1){d.dtick=1}}else{if(W>b.length/2){var Y=(N.tickIncrement(X,d.dtick)-X)/2;X+=(X+Y<h)?Y:-Y}}var e=X;while(e<Z){e=N.tickIncrement(e,d.dtick)}return{start:X,end:e,size:d.dtick}}};function F(Z){if(Z.autotick||!Z.dtick){var X=Z.nticks||Math.max(5,Math.min(10,(Z._id.charAt(0)=="y")?Z._td.plotheight/40:Z._td.plotwidth/80));N.autoTicks(Z,Math.abs(Z.range[1]-Z.range[0])/X);if(Z._minDtick>0&&Z.dtick<Z._minDtick*2){Z.dtick=Z._minDtick;Z.tick0=Z._forceTick0}}if(!Z.tick0){if(Z.type=="date"){Z.tick0=new Date(2000,0,1).getTime()}else{Z.tick0=0}}J(Z);Z._tmin=N.tickFirst(Z);var W=(Z.range[1]<Z.range[0]);var Y=[],V=Z.range[1]*1.0001-Z.range[0]*0.0001;if(Z.type=="category"){V=(W)?Math.max(-0.5,V):Math.min(Z.categories.length-0.5,V)}for(var U=Z._tmin;(W)?(U>=V):(U<=V);U=N.tickIncrement(U,Z.dtick,W)){Y.push(U);if(Y.length>1000){break}}Z._tmax=Y[Y.length-1];return Y.map(function(a){return N.tickText(Z,a)})}N.autoTicks=function(a,U){var Z,Y;if(a.type=="date"){a.tick0=new Date(2000,0,1).getTime();if(U>15778800000){U/=31557600000;Y=Math.pow(10,Math.floor(Math.log(U)/Math.LN10));a.dtick="M"+String(12*Y*E(U/Y,[2,5,10]))}else{if(U>1209600000){U/=2629800000;a.dtick="M"+E(U,[1,2,3,6])}else{if(U>43200000){Z=86400000;a.tick0=new Date(2000,0,2).getTime();a.dtick=Z*E(U/Z,[1,2,3,7,14])}else{if(U>1800000){Z=3600000;a.dtick=Z*E(U/Z,[1,2,3,6,12])}else{if(U>30000){Z=60000;a.dtick=Z*E(U/Z,[1,2,5,10,15,30])}else{if(U>500){Z=1000;a.dtick=Z*E(U/Z,[1,2,5,10,15,30])}else{Y=Math.pow(10,Math.floor(Math.log(U)/Math.LN10));a.dtick=Y*E(U/Y,[2,5,10])}}}}}}}else{if(a.type=="log"){a.tick0=0;if(U>0.7){a.dtick=Math.ceil(U)}else{if(Math.abs(a.range[1]-a.range[0])<1){var X=1.5*Math.abs((a.range[1]-a.range[0])/U);U=Math.abs(Math.pow(10,a.range[1])-Math.pow(10,a.range[0]))/X;Y=Math.pow(10,Math.floor(Math.log(U)/Math.LN10));a.dtick="L"+String(Y*E(U/Y,[2,5,10]))}else{var V=Math.pow(10,Math.min(a.range[1],a.range[0]));var W=Math.pow(10,Math.floor(Math.log(V)/Math.LN10));a.dtick=(U>0.3)?"D2":"D1"}}}else{if(a.type=="category"){a.tick0=0;a.dtick=1}else{a.tick0=0;Y=Math.pow(10,Math.floor(Math.log(U)/Math.LN10));a.dtick=Y*E(U/Y,[2,5,10])}}}if(a.dtick===0){a.dtick=1}};function J(W){var V=W.dtick,U;W._tickexponent=0;if(W.type=="category"){W._tickround=null}else{if($.isNumeric(V)||V.charAt(0)=="L"){if(W.type=="date"){if(V>=86400000){W._tickround="d"}else{if(V>=3600000){W._tickround="H"}else{if(V>=60000){W._tickround="M"}else{if(V>=1000){W._tickround="S"}else{W._tickround=3-Math.round(Math.log(V/2)/Math.LN10)}}}}}else{if(!$.isNumeric(V)){V=Number(V.substr(1))}W._tickround=2-Math.floor(Math.log(V)/Math.LN10+0.01);if(W.type=="log"){U=Math.pow(10,Math.max(W.range[0],W.range[1]))}else{U=Math.max(Math.abs(W.range[0]),Math.abs(W.range[1]))}var X=Math.floor(Math.log(U)/Math.LN10+0.01);if(Math.abs(X)>3){W._tickexponent=(["SI","B"].indexOf(W.exponentformat)!=-1)?3*Math.round((X-1)/3):X}}}else{if(V.charAt(0)=="M"){W._tickround=(V.length==2)?"m":"y"}else{W._tickround=null}}}}function E(f,e,Z){var W=0,X=e.length-1,V,d=0,Y=Z?0:1,b=Z?1:0,U=Z?Math.ceil:Math.floor;while(W<X&&d++<100){V=U((W+X)/2);if(e[V]<=f){W=V+Y}else{X=V-b}}return e[W]}N.tickIncrement=function(b,Z,a){if($.isNumeric(Z)){return b+(a?-Z:Z)}var d=Z.charAt(0);var X=Number(Z.substr(1)),c=(a?-X:X);if(d=="M"){var Y=new Date(b);return Y.setMonth(Y.getMonth()+c)}else{if(d=="L"){return Math.log(Math.pow(10,b)+c)/Math.LN10}else{if(d=="D"){var W=(Z=="D2")?[-0.301,0,0.301,0.699,1]:[-0.046,0,0.301,0.477,0.602,0.699,0.778,0.845,0.903,0.954,1];var U=b+(a?-0.01:0.01);var V=E(S(U,1),W,a);return Math.floor(U)+Math.log(d3.round(Math.pow(10,V),1))/Math.LN10}else{throw"unrecognized dtick "+String(Z)}}}};N.tickFirst=function(U){var d=(U.range[1]<U.range[0]),f=(d?Math.floor:Math.ceil),Y=U.range[0]*1.0001-U.range[1]*0.0001;if($.isNumeric(U.dtick)){var W=f((Y-U.tick0)/U.dtick)*U.dtick+U.tick0;if(U.type=="category"){W=Plotly.Lib.constrain(W,0,U.categories.length-1)}return W}var e=U.dtick.charAt(0),X=Number(U.dtick.substr(1)),c,Z,b;if(e=="M"){c=new Date(U.tick0);Y=new Date(Y);Z=(Y.getFullYear()-c.getFullYear())*12+Y.getMonth()-c.getMonth();b=c.setMonth(c.getMonth()+(Math.round(Z/X)+(d?1:-1))*X);while(d?b>Y:b<Y){b=N.tickIncrement(b,U.dtick,d)}return b}else{if(e=="L"){return Math.log(f((Math.pow(10,Y)-U.tick0)/X)*X+U.tick0)/Math.LN10}else{if(e=="D"){var a=(U.dtick=="D2")?[-0.301,0,0.301,0.699,1]:[-0.046,0,0.301,0.477,0.602,0.699,0.778,0.845,0.903,0.954,1];var V=E(S(Y,1),a,d);return Math.floor(Y)+Math.log(d3.round(Math.pow(10,V),1))/Math.LN10}else{throw"unrecognized dtick "+String(U.dtick)}}}};var G=d3.time.format("%Y"),C=d3.time.format("%b %Y"),I=d3.time.format("%b %d"),T=function(U){return I(U).replace(" 0"," ")},D=d3.time.format(" %H"),O=d3.time.format("%H:%M"),M=d3.time.format(":%S");N.tickText=function(U,h,Y){var e=U._td.layout.font,W=U.tickfont,c=U._tickround,V=U.dtick,X=W.family||e.family||"Arial",m=W.size||e.size||12,b=W.color||e.color||"#000",j=0,g=0,k="",Z,l=(!Y&&U.showexponent!="all"&&U.exponentformat!="none"&&h!={first:U._tmin,last:U._tmax}[U.showexponent])?"hide":false;if(U.type=="date"){if(Y){if($.isNumeric(c)){c+=2}else{c={y:"m",m:"d",d:"H",H:"M",M:"S",S:2}[c]}}var a=new Date(h);if(c=="y"){Z=G(a)}else{if(c=="m"){Z=C(a)}else{if(h==U._tmin){k="<br>"+G(a)}if(c=="d"){Z=T(a)}else{if(c=="H"){Z=T(a)+D(a)}else{if(h==U._tmin){k="<br>"+T(a)+", "+G(a)}Z=O(a);if(c!="M"){Z+=M(a);if(c!="S"){Z+=A(S(h/1000,1),U,"none").substr(1)}}}}}}}else{if(U.type=="log"){if(Y&&($.isNumeric(V)||V.charAt(0)!="L")){V="L3"}if($.isNumeric(V)||((V.charAt(0)=="D")&&(S(h+0.01,1)<0.1))){Z=(Math.round(h)===0)?"1":(Math.round(h)==1)?"10":"10"+String(Math.round(h)).sup();m*=1.25}else{if(V.charAt(0)=="D"){Z=Math.round(Math.pow(10,S(h,1)));m*=0.75}else{if(V.charAt(0)=="L"){Z=A(Math.pow(10,h),U,l,Y)}else{throw"unrecognized dtick "+String(V)}}}}else{if(U.type=="category"){var f=U.categories[Math.round(h)];if(f===undefined){f=""}Z=String(f)}else{Z=A(h,U,l,Y)}}}if((U.dtick=="D1")&&(String(Z).charAt(0)=="1")){if(U._id.charAt(0)=="y"){j-=m/4}else{g+=m/3}}return{x:h,dx:j,dy:g,text:Z+k,fontSize:m,font:X,fontColor:b}};SIPREFIXES=["f","p","n","&mu;","m","","k","M","G","T"];function A(l,U,c,g){var X=(l<0),V=U._tickround,Y=c||U.exponentformat||"e",j=U._tickexponent,b=U.separators||".",Z=b.charAt(0),W=b.charAt(1);if(g){var k={exponentformat:U.exponentformat,dtick:Math.abs(l),range:[0,l||1]};J(k);V=k._tickround+2;j=k._tickexponent}var h=Math.pow(10,-V)/2;if(Y=="none"){j=0}l=Math.abs(l);if(l<h){l="0"}else{l+=h;if(j){l*=Math.pow(10,-j);V+=j}if(V===0){l=String(Math.floor(l))}else{if(V<0){l=String(Math.round(l));l=l.substr(0,l.length+V);for(var f=V;f<0;f++){l+="0"}}else{l=String(l);var a=l.indexOf(".")+1;if(a){l=l.substr(0,a+V).replace(/\.?0+$/,"")}}}}if(j&&Y!="hide"){if(Y=="e"||((Y=="SI"||Y=="B")&&(j>12||j<-15))){l+="e"+(j>0?"+":"")+j}else{if(Y=="E"){l+="E"+(j>0?"+":"")+j}else{if(Y=="power"){l+="&times;10"+String(j).sup()}else{if(Y=="B"&&j==9){l+="B"}else{if(Y=="SI"||Y=="B"){l+=SIPREFIXES[j/3+5]}else{console.log("unknown exponent format "+Y)}}}}}}return(X?"-":"")+l}N.doTicks=function(b,W){if(W=="redraw"){b.axislayer.selectAll("text,path").remove();b.gridlayer.selectAll("path").remove();b.zerolinelayer.selectAll("path").remove()}var j=b.layout;if(["x","y"].indexOf(W)==-1){N.doTicks(b,"x");N.doTicks(b,"y");if(W=="redraw"){j.xaxis._r=j.xaxis.range.slice();j.yaxis._r=j.yaxis.range.slice()}return }var h=b.margin,a={x:j.xaxis,y:j.yaxis}[W];a.range=a.range.map(Number);a.setScale(b);var x=F(a),U=function(g){return g.text+g.x},w=W+"tick",o=W+"grid",f=W+"zl",l=h.p+(a.ticks=="outside"?1:0)*($.isNumeric(a.linewidth)?a.linewidth:1),Z=a.ticks=="outside"?a.ticklen:a.linewidth+1,c=function(g){return a._m*g.x+a._b},u=a.gridwidth||1,r,m,AI,AC,AB,AF,AE,V,AG,AD,AH;if(W=="x"){r=b.plotwidth;AI=j.height-h.b+l;AB=(a.ticks=="inside"?-1:1)*a.ticklen;AF="M"+h.l+","+AI+"v"+AB+(a.mirror=="ticks"?("m0,"+(-b.plotheight-2*(AB+l))+"v"+AB):"");AH="M"+h.l+","+h.t+"v"+b.plotheight;V={x:function(g){return g.dx+h.l},y:function(g){return g.dy+AI+Z+g.fontSize},anchor:function(g){if(!$.isNumeric(g)||g===0||g==180){return"middle"}return g<0?"end":"start"}};AG=function(g){return"translate("+c(g)+",0)"}}else{if(W=="y"){r=b.plotheight;m=h.l-l;AC=(a.ticks=="inside"?1:-1)*a.ticklen;AF="M"+m+","+h.t+"h"+AC+(a.mirror=="ticks"?("m"+(b.plotwidth-2*(AC-l))+",0h"+AC):"");AH="M"+h.l+","+h.t+"h"+b.plotwidth;V={x:function(g){return g.dx+m-Z-(Math.abs(a.tickangle)==90?g.fontSize/2:0)},y:function(g){return g.dy+h.t+g.fontSize/2},anchor:function(g){return($.isNumeric(g)&&Math.abs(g)==90)?"middle":"end"}};AG=function(g){return"translate(0,"+c(g)+")"}}else{console.log("unrecognized doTicks axis",a);return }}function k(AJ){var g=c(AJ);return(g>1&&g<r-1)}var AA=x.filter(k);var y=b.axislayer.selectAll("path."+w).data(a.ticks?(a.ticks=="inside"?AA:x):[],U);y.enter().append("path").classed(w,1).classed("ticks",1).classed("crisp",1).call(Plotly.Drawing.strokeColor,a.tickcolor||"#000").attr("stroke-width",a.tickwidth||1).attr("d",AF);y.attr("transform",AG);y.exit().remove();var p=b.axislayer.selectAll("text."+w).data(x,U);if(a.showticklabels){var v=0,t=0;p.enter().append("text").classed(w,1).call(Plotly.Drawing.setPosition,V.x,V.y).each(function(g){Plotly.Drawing.font(d3.select(this),g.font,g.fontSize,g.fontColor);Plotly.Drawing.styleText(this,g.text)});p.attr("transform",function(g){v=Math.max(v,g.fontSize);return AG(g)+(($.isNumeric(a.tickangle)&&Number(a.tickangle)!==0)?(" rotate("+a.tickangle+","+V.x(g)+","+(V.y(g)-g.fontSize/2)+")"):"")}).attr("text-anchor",V.anchor(a.tickangle));if(W=="x"&&!$.isNumeric(a.tickangle)){var d=p[0].map(function(g){return g.getBoundingClientRect()});for(AD=0;AD<d.length-1;AD++){if(Plotly.Lib.bBoxIntersect(d[AD],d[AD+1])){t=30;break}}if(t){var Y=Math.abs((x[x.length-1].x-x[0].x)*a._m)/(x.length-1);if(Y<v*2.5){t=90}p.attr("transform",function(g){return AG(g)+" rotate("+t+","+V.x(g)+","+(V.y(g)-g.fontSize/2)+")"}).attr("text-anchor",V.anchor(t))}}p.exit().remove()}else{p.remove()}var z=b.gridlayer.selectAll("path."+o).data(a.showgrid!==false?AA:[],U);z.enter().append("path").classed(o,1).classed("crisp",1).attr("d",AH).each(function(g){if(a.zeroline&&(a.type=="linear"||a.type=="-")&&Math.abs(g.x)<a.dtick/100){d3.select(this).remove()}});z.attr("transform",AG).call(Plotly.Drawing.strokeColor,a.gridcolor||"#ddd").attr("stroke-width",u);z.exit().remove();var q=(b.data||[]).filter(function(g){return g.visible!==false&&((Plotly.Plots.isBar(g.type)&&(g.bardir||"v")=={x:"h",y:"v"}[W])||((g.type||"scatter")=="scatter"&&g.fill&&g.fill.charAt(g.fill.length-1)==W))}).length;var e=(a.range[0]*a.range[1]<=0)&&a.zeroline&&(a.type=="linear"||a.type=="-")&&(q||k({x:0}));var X=b.zerolinelayer.selectAll("path."+f).data(e?[{x:0}]:[]);X.enter().append("path").classed(f,1).classed("zl",1).classed("crisp",1).attr("d",AH);X.attr("transform",AG).call(Plotly.Drawing.strokeColor,a.zerolinecolor||"#000").attr("stroke-width",a.zerolinewidth||u);X.exit().remove();Plotly.Plots.titles(b,W+"title")};function S(U,V){return((U%V)+V)%V}}());(function(){var A=window.Plotly.Scatter={};A.PTS_LINESONLY=20;A.calc=function(K,F){if(!("y" in F)&&!("x" in F)){return }var E=[];if(F.visible!==false){var C=K.layout.xaxis,H=K.layout.yaxis,J=Plotly.Axes.convertOne(F,"x",C),I=Plotly.Axes.convertOne(F,"y",H),G=Math.min(J.length,I.length);C._minDtick=0;H._minDtick=0;if(J.length>G){J.splice(G,J.length-G)}if(I.length>G){I.splice(G,I.length-G)}var B={padded:true},L={padded:true};if(F.mode&&F.mode.indexOf("markers")!=-1){var D=F.marker?F.marker.size:0;markerTrans=function(M){return(M||6)/1.6};B.ppad=L.ppad=$.isArray(D)?D.map(markerTrans):markerTrans(D)}if(F.fill=="tozerox"||(F.fill=="tonextx"&&K.firstscatter)){B.tozero=true}else{if((!F.error_y||!F.error_y.visible)&&(["tonexty","tozeroy"].indexOf(F.fill)!=-1||(F.mode&&F.mode.indexOf("markers")==-1&&F.mode.indexOf("text")==-1)||(!F.mode&&G>=A.PTS_LINESONLY))){B.padded=false;B.ppad=0}}if(F.fill=="tozeroy"||(F.fill=="tonexty"&&K.firstscatter)){L.tozero=true}else{if(["tonextx","tozerox"].indexOf(F.fill)!=-1){L.padded=false}}Plotly.Axes.expand(C,J,B);Plotly.Axes.expand(H,I,L);for(i=0;i<G;i++){E.push(($.isNumeric(J[i])&&$.isNumeric(I[i]))?{x:J[i],y:I[i]}:{x:false,y:false})}K.firstscatter=false;return E}else{if(F.mode||((!F.x||F.x.length<A.PTS_LINESONLY)&&(!F.y||F.y.length<A.PTS_LINESONLY))){return[{x:false,y:false}]}else{for(i=0;i<A.PTS_LINESONLY+1;i++){E.push({x:false,y:false})}return E}}};A.plot=function(I,J){var B=I.layout.xaxis,H=I.layout.yaxis;var E=I.plot.selectAll("g.trace.scatter").data(J).enter().append("g").attr("class","trace scatter").style("stroke-miterlimit",2);var C="",F,D,G;E.each(function(N){var W=N[0].t;if(W.visible===false){return }var M=-1,O=d3.select(this),U="";F=(W.fill.substr(0,6)=="tozero"||(W.fill.substr(0,2)=="to"&&!C))?O.append("polyline").classed("fill",true).attr("data-curve",W.cdcurve):null;if(G){D=G.attr("data-curve",W.cdcurve)}G=O.append("polyline").classed("fill",true).attr("data-curve",0);var L,V,K,T;L=V=K=T=null;while(M<N.length){var X="",S=false;for(M++;M<N.length;M++){var R=B.c2p(N[M].x),Q=H.c2p(N[M].y);if(!$.isNumeric(R)||!$.isNumeric(Q)){break}if(X){S=true}X+=R+","+Q+" ";if(!$.isNumeric(L)){L=R;V=Q}K=R;T=Q}if(X){U+=X;if(W.mode.indexOf("lines")!=-1&&S){O.append("polyline").classed("line",true).attr("points",X)}}}if(U){if(F){if(W.fill.charAt(W.fill.length-1)=="y"){V=T=H.c2p(0,true)}else{L=K=B.c2p(0,true)}F.attr("points",U+K+","+T+" "+L+","+V)}else{if(W.fill.substr(0,6)=="tonext"){var P=U+C;if(P.indexOf(",")!=P.lastIndexOf(",")){D.attr("points",U+C)}}}C=U.split(" ").reverse().join(" ")}});$(I).find("polyline:not([points])").remove();E.append("g").attr("class","points").each(function(O){var M=O[0].t,N=d3.select(this),K=M.mode.indexOf("markers")!=-1,L=M.mode.indexOf("text")!=-1;if((!K&&!L)||M.visible===false){N.remove()}else{if(K){N.selectAll("path").data(Plotly.Lib.identity).enter().append("path").call(Plotly.Drawing.translatePoints,B,H)}if(L){N.selectAll("text").data(Plotly.Lib.identity).enter().append("text").call(Plotly.Drawing.translatePoints,B,H)}}})}}());(function(){var A=window.Plotly.Bars={};A.calc=function(H,C){if(C.visible===false){return }var F,J,I,G,E;if(C.bardir=="h"){I=H.layout.yaxis;G=H.layout.xaxis}else{I=H.layout.xaxis;G=H.layout.yaxis}J=Plotly.Axes.convertOne(C,"y",G);F=Plotly.Axes.convertOne(C,"x",I);var D=Math.min(F.length,J.length),B=[];for(E=0;E<D;E++){if(($.isNumeric(F[E])&&$.isNumeric(J[E]))){B.push({p:F[E],s:J[E],b:0})}}return B};A.setPositions=function(E){var F=E.layout,G=F.xaxis,B=F.yaxis,D,C;["v","h"].forEach(function(J){var I=[],R,Q,O;E.calcdata.forEach(function(X,W){var V=X[0].t;if(V.visible!==false&&Plotly.Plots.isBar(V.type)&&(V.bardir||"v")==J){I.push(W)}});if(!I.length){return }if(J=="v"){Q=B;R=G}else{Q=G;R=B}function U(a){var b=[];a.forEach(function(c){E.calcdata[c].forEach(function(d){b.push(d.p)})});var Z=Plotly.Lib.distinctVals(b),W=Z.vals,V=Z.minDiff;Plotly.Axes.minDtick(R,V,W[0],F.barmode=="group");Plotly.Axes.expand(R,W,{vpad:V/2});V*=(1-F.bargap);if(F.barmode=="group"){V/=I.length}for(var Y=0;Y<a.length;Y++){var X=E.calcdata[a[Y]][0].t;X.barwidth=V*(1-F.bargroupgap);X.poffset=(((F.barmode=="group")?(2*Y+1-a.length)*V:0)-X.barwidth)/2;X.dbar=Z.minDiff}}if(F.barmode=="overlay"){I.forEach(function(V){U([V])})}else{U(I)}if(F.barmode=="stack"){var P=Q.l2c(Q.c2l(0)),L=P,N={},T=0,K=E.calcdata[I[0]][0].t.barwidth/100,S=0;for(D=0;D<I.length;D++){var H=E.calcdata[I[D]];for(C=0;C<H.length;C++){S=Math.round(H[C].p/K);H[C].b=(N[S]||0);T=H[C].b+H[C].s;N[S]=T;if($.isNumeric(Q.c2l(T))){P=Math.max(P,T);L=Math.min(L,T)}}}Plotly.Axes.expand(Q,[L,P],{tozero:true,padded:true})}else{var M=function(V){return V.s};for(D=0;D<I.length;D++){Plotly.Axes.expand(Q,E.calcdata[I[D]].map(M),{tozero:true,padded:true})}}})};A.plot=function(E,D){var F=E.layout.xaxis,C=E.layout.yaxis;var B=E.plot.selectAll("g.trace.bars").data(D).enter().append("g").attr("class","trace bars");B.append("g").attr("class","points").each(function(H){var G=H[0].t;d3.select(this).selectAll("rect").data(Plotly.Lib.identity).enter().append("rect").each(function(M){var J,I,L,K;if(G.bardir=="h"){L=C.c2p(G.poffset+M.p);K=C.c2p(G.poffset+M.p+G.barwidth);J=F.c2p(M.b,true);I=F.c2p(M.s+M.b,true)}else{J=F.c2p(G.poffset+M.p);I=F.c2p(G.poffset+M.p+G.barwidth);K=C.c2p(M.s+M.b,true);L=C.c2p(M.b,true)}if(!$.isNumeric(J)||!$.isNumeric(I)||!$.isNumeric(L)||!$.isNumeric(K)){d3.select(this).remove();return }d3.select(this).attr("transform","translate("+Math.min(J,I)+","+Math.min(L,K)+")").attr("width",Math.abs(I-J)+0.001).attr("height",Math.abs(K-L)+0.001)})})}}());(function(){var A=window.Plotly.Boxes={};A.calc=function(M,I){if(!("y" in I)||I.visible===false){return }var C=M.layout.xaxis,J=M.layout.yaxis,K=Plotly.Axes.convertOne(I,"y",J),L;if("x" in I){L=Plotly.Axes.convertOne(I,"x",C)}else{var E;if("x0" in I){E=I.x0}else{if("name" in I&&(C.type=="category"||($.isNumeric(I.name)&&["linear","log"].indexOf(C.type)!=-1)||(Plotly.Lib.isDateTime(I.name)&&C.type=="date"))){E=I.name}else{E=M.numboxes}}E=Plotly.Axes.convertToNums(E,C);L=K.map(function(){return E})}var D=Plotly.Lib.distinctVals(L),H=D.vals,P=D.minDiff/2,F=H.map(function(Q){return{x:Q}}),O=H.map(function(){return[]}),N=H.map(function(Q){return Q-P}),G=H.length;N.push(H[G-1]+P);Plotly.Axes.expand(J,K,{padded:true});K.forEach(function(Q,R){if(!$.isNumeric(Q)){return }var S=Plotly.Lib.findBin(L[R],N);if(S>=0&&S<G){O[S].push(Q)}});O.forEach(function(Q,R){Q.sort(function(V,U){return V-U});var S=Q.length-1,T=F[R];T.y=Q;T.min=Q[0];T.max=Q[S];T.mean=Plotly.Lib.mean(Q,S+1);T.sd=Plotly.Lib.stdev(Q,S+1,T.mean);T.q1=B(Q,(S/4));T.med=B(Q,(S/2));T.q3=B(Q,(0.75*S));T.lf=Math.min(T.q1,Q[Plotly.Lib.findBin(2.5*T.q1-1.5*T.q3,Q,true)+1]);T.uf=Math.max(T.q3,Q[Plotly.Lib.findBin(2.5*T.q3-1.5*T.q1,Q)]);T.lo=4*T.q1-3*T.q3;T.uo=4*T.q3-3*T.q1});F[0].t={boxnum:M.numboxes,dx:P};M.numboxes++;return F};A.setPositions=function(E){var H=E.layout.xaxis,D=[];E.calcdata.forEach(function(K,J){var I=K[0].t;if(I.visible!==false&&I.type=="box"){D.push(J)}});var F=[];D.forEach(function(I){E.calcdata[I].forEach(function(J){F.push(J.x)})});if(F.length){var G=Plotly.Lib.distinctVals(F),C=G.minDiff/2;Plotly.Axes.minDtick(H,G.minDiff,G.vals[0],true);Plotly.Axes.expand(H,G.vals,{vpad:C});D.forEach(function(I){E.calcdata[I][0].t.dx=C});if(F.length==G.vals.length){E.numboxes=1}}};A.plot=function(F,E){var G=F.layout,H=G.xaxis,D=G.yaxis;var C=F.plot.selectAll("g.trace.boxes").data(E).enter().append("g").attr("class","trace boxes");C.each(function(M){var I=M[0].t,K=(G.boxmode=="group"&&F.numboxes>1),J=I.dx*(1-G.boxgap)*(1-G.boxgroupgap)/(K?F.numboxes:1),L=K?2*I.dx*(-0.5+(I.boxnum+0.5)/F.numboxes)*(1-G.boxgap):0,N=J*I.ww;if(I.visible===false){d3.select(this).remove();return }I.bx=L;I.bdx=J;d3.select(this).selectAll("path.box").data(Plotly.Lib.identity).enter().append("path").attr("class","box").each(function(V){var Y=H.c2p(V.x+L,true),Q=H.c2p(V.x+L-J,true),O=H.c2p(V.x+L+J,true),U=H.c2p(V.x+L-N,true),T=H.c2p(V.x+L+N,true),R=D.c2p(V.med,true),X=D.c2p(V.q1,true),W=D.c2p(V.q3,true),S=D.c2p(I.boxpts===false?V.min:V.lf,true),P=D.c2p(I.boxpts===false?V.max:V.uf,true);d3.select(this).attr("d","M"+Q+","+R+"H"+O+"M"+Q+","+X+"H"+O+"V"+W+"H"+Q+"ZM"+Y+","+X+"V"+S+"M"+Y+","+W+"V"+P+((I.ww===0)?"":"M"+U+","+S+"H"+T+"M"+U+","+P+"H"+T))});if(I.boxpts!==false){d3.select(this).selectAll("g.points").data(function(O){O.forEach(function(P){P.t=I});return O}).enter().append("g").attr("class","points").selectAll("path").data(function(P){var O=(I.boxpts=="all")?P.y:P.y.filter(function(Q){return(Q<P.lf||Q>P.uf)});return O.map(function(Q){var R=(I.jitter?I.jitter*(Math.random()-0.5)*2:0)+I.ptpos,S={x:P.x+R*J+L,y:Q,t:I};if(I.boxpts!="all"&&Q<P.uo&&Q>P.lo){S.so=true}return S})}).enter().append("path").call(Plotly.Drawing.translatePoints,H,D)}if(I.mean){d3.select(this).selectAll("path.mean").data(Plotly.Lib.identity).enter().append("path").attr("class","mean").style("fill","none").each(function(U){var T=H.c2p(U.x+L,true),S=H.c2p(U.x+L-J,true),Q=H.c2p(U.x+L+J,true),P=D.c2p(U.mean,true),O=D.c2p(U.mean-U.sd,true),R=D.c2p(U.mean+U.sd,true);d3.select(this).attr("d","M"+S+","+P+"H"+Q+((I.mean!="sd")?"":"m0,0L"+T+","+O+"L"+S+","+P+"L"+T+","+R+"Z"))})}})};A.style=function(C){C.each(function(E){var D=E[0].t;d3.select(this).selectAll("path.box").attr("stroke-width",D.lw).call(Plotly.Drawing.strokeColor,D.lc).call(Plotly.Drawing.fillColor,D.fc);d3.select(this).selectAll("path.mean").attr("stroke-width",D.lw).attr("stroke-dasharray",(2*D.lw)+","+(D.lw)).call(Plotly.Drawing.strokeColor,D.lc)})};function B(C,E){if(E<0){return C[0]}if(E>C.length-1){return C[C.length-1]}var D=E%1;return D*C[Math.ceil(E)]+(1-D)*C[Math.floor(E)]}}());(function(){var F=window.Plotly.Heatmap={};MAX_PX_PER_BRICK=0;F.calc=function(l,k){if(k.visible===false){return }Plotly.Lib.markTime("start convert x&y");var c=l.layout.xaxis,Q=k.x?Plotly.Axes.convertOne(k,"x",c):[],e,T,G=l.layout.yaxis,O=k.y?Plotly.Axes.convertOne(k,"y",G):[],H,R,N=k.z,a;c._minDtick=0;G._minDtick=0;Plotly.Lib.markTime("done convert x&y");if(k.type=="histogram2d"){var U=Math.min(Q.length,O.length);if(Q.length>U){Q.splice(U,Q.length-U)}if(O.length>U){O.splice(U,O.length-U)}Plotly.Lib.markTime("done convert data");if(k.autobinx||!("xbins" in k)){k.xbins=Plotly.Axes.autoBin(Q,c,k.nbinsx,"2d")}if(k.autobiny||!("ybins" in k)){k.ybins=Plotly.Axes.autoBin(O,G,k.nbinsy,"2d")}Plotly.Lib.markTime("done autoBin");N=[];var b=[],Z=(typeof (k.xbins.size)=="string")?[]:k.xbins,L=(typeof (k.xbins.size)=="string")?[]:k.ybins,I=k.histnorm||"";for(a=k.xbins.start;a<k.xbins.end;a=Plotly.Axes.tickIncrement(a,k.xbins.size)){b.push(0);if($.isArray(Z)){Z.push(a)}}if($.isArray(Z)){Z.push(a)}var j=b.length;e=k.xbins.start;T=(a-e)/j;e+=T/2;var J=b.map(function(m,p){if(I.indexOf("density")==-1){return 1}else{if($.isArray(Z)){return 1/(Z[p+1]-Z[p])}else{return 1/T}}});for(a=k.ybins.start;a<k.ybins.end;a=Plotly.Axes.tickIncrement(a,k.ybins.size)){N.push(b.concat());if($.isArray(L)){L.push(a)}}if($.isArray(L)){L.push(a)}var g=N.length;H=k.ybins.start;R=(a-H)/g;H+=R/2;var P=N.map(function(m,p){if(I.indexOf("density")==-1){return 1}else{if($.isArray(L)){return 1/(L[p+1]-L[p])}else{return 1/R}}});Plotly.Lib.markTime("done making bins");var K=0;for(a=0;a<U;a++){var X=Plotly.Lib.findBin(Q[a],Z),Y=Plotly.Lib.findBin(O[a],L);if(X>=0&&X<j&&Y>=0&&Y<g){N[Y][X]+=J[X]*P[Y];K++}}if(I.indexOf("percent")!=-1){K/=100}if(I.indexOf("probability")!=-1||I.indexOf("percent")!=-1){N.forEach(function(m){m.forEach(function(p,q){m[q]/=K})})}Plotly.Lib.markTime("done binning")}else{e=k.x0||0;T=k.dx||1;H=k.y0||0;R=k.dy||1}if([true,"fast"].indexOf(k.zsmooth)!=-1){if(c.type=="log"||G.type=="log"){k.zsmooth=false;Plotly.Lib.notifier("cannot fast-zsmooth: log axis found")}else{if(k.type!="histogram2d"){if(Q.length){var h=(Q[Q.length-1]-Q[0])/(Q.length-1),W=Math.abs(h/100);for(a=0;a<Q.length-1;a++){if(Math.abs(Q[a+1]-Q[a]-h)>W){k.zsmooth=false;Plotly.Lib.notifier("cannot fast-zsmooth: x scale is not linear");break}}}if(O.length){var f=(O[O.length-1]-O[0])/(O.length-1),V=Math.abs(f/100);for(a=0;a<O.length-1;a++){if(Math.abs(O[a+1]-O[a]-f)>V){k.zsmooth=false;Plotly.Lib.notifier("cannot fast-zsmooth: y scale is not linear");break}}}}}}if(k.zauto!==false||!("zmin" in k)){k.zmin=A(N)}if(k.zauto!==false||!("zmax" in k)){k.zmax=E(N)}if(k.zmin==k.zmax){k.zmin-=0.5;k.zmax+=0.5}var d=k.xtype=="scaled"?"":k.x,M=B(k.type,d,e,T,N[0].length,l.layout.xaxis),o=k.ytype=="scaled"?"":k.y,S=B(k.type,o,H,R,N.length,l.layout.yaxis);Plotly.Axes.expand(c,M);Plotly.Axes.expand(G,S);return[{x:M,y:S,z:N}]};function B(N,O,L,P,M,G){var I=[],Q,H,J;if($.isArray(O)&&(N!="histogram2d")&&(G.type!="category")){O=Plotly.Axes.convertToNums(O,G);var K=O.length;if(K==M){if(M==1){return[O[0]-0.5,O[0]+0.5]}else{I=[1.5*O[0]-0.5*O[1]];for(J=1;J<K;J++){I.push((O[J-1]+O[J])*0.5)}I.push(1.5*O[K-1]-0.5*O[K-2])}}else{return O.slice(0,M+1)}}else{H=P||1;if(L===undefined){Q=0}else{if(N=="histogram2d"||G.type=="category"){Q=L}else{Q=Plotly.Axes.convertToNums(L,G)}}for(J=0;J<=M;J++){I.push(Q+H*(J-0.5))}}return I}F.plot=function(X,l){Plotly.Lib.markTime("in Heatmap.plot");var AG=l[0].t,AU=AG.curve,AM=X.layout.xaxis,k=X.layout.yaxis;var AA=l[0].z,Ab=AG.zmin,g=AG.zmax,Q=C(l),AD=l[0].x,AB=l[0].y;var q="hm"+AU;var AL="cb"+AU;var J=[true,"fast"].indexOf(AG.zsmooth)!=-1;var AQ=AA.length,AP=AA[0].length;var AR=false,L,AK,N;AU=0;while(L===undefined&&AU<AP){L=AM.c2p(AD[AU]);AU++}AU=AP;while(AK===undefined&&AU>0){AK=AM.c2p(AD[AU]);AU--}if(AK<L){N=AK;AK=L;L=N;AR=true}var S=false,M,H;AU=0;while(M===undefined&&AU<AP){M=k.c2p(AB[AU]);AU++}AU=AQ;while(H===undefined&&AU>0){H=k.c2p(AB[AU]);AU--}if(H<M){N=M;M=H;H=N;S=true}if(!J){var Ac=AG.zsmooth=="best"?0:0.5;L=Math.max(-Ac*X.plotwidth,L);AK=Math.min((1+Ac)*X.plotwidth,AK);M=Math.max(-Ac*X.plotheight,M);H=Math.min((1+Ac)*X.plotheight,H)}var K=Math.round(AK-L);var AO=Math.round(H-M),I=AO/(H-M);if(K<=0||AO<=0){return }var AN=J?new PNGlib(AP,AQ,256):new PNGlib(K,AO,256);var AZ=Q.map(function(c){return c[0]*255}),AI=Q.map(function(c){return c[1]});s=d3.scale.linear().domain(AZ).interpolate(d3.interpolateRgb).range(AI);var V,O;if(J){V=AR?function(c){return AP-1-c}:Plotly.Lib.identity;O=S?function(c){return AQ-1-c}:Plotly.Lib.identity}else{V=function(c){return Plotly.Lib.constrain(Math.round(AM.c2p(AD[c])-L),0,K)};O=function(c){return Plotly.Lib.constrain(Math.round(k.c2p(AB[c])-M),0,AO)}}function AS(d,v){var j=v.length-2,x=Plotly.Lib.constrain(Plotly.Lib.findBin(d,v),0,j),p=v[x],m=v[x+1],r=Plotly.Lib.constrain(x+(d-p)/(m-p)-0.5,0,j),t=Math.round(r),c=Math.abs(r-t);if(!r||r==j||!c){return{bin0:t,bin1:t,frac:0}}return{bin0:t,frac:c,bin1:Math.round(t+c/(r-t))}}var AH={};AH[256]=AN.color(0,0,0,0);function e(m,j){if($.isNumeric(m)){var d=Plotly.Lib.constrain(Math.round((m-Ab)*254/(g-Ab)),0,254);p=s(d);AE+=j;if(!AH[d]){var p=s(d);AH[d]=[tinycolor(p).toHsl().l,AN.color("0x"+p.substr(1,2),"0x"+p.substr(3,2),"0x"+p.substr(5,2))]}AJ+=j*AH[d][0];return AH[d][1]}else{return AH[256]}}Plotly.Lib.markTime("done init png");var b=O(0),h=[b,b];var AT,AC,Aa,a,AF,W;var G=AR?0:1,AW=S?0:1;var AE=0,AJ=0;if(AG.zsmooth=="best"){var f=AD.map(function(c){return Math.round(AM.c2p(c)-L)}),AV=AB.map(function(c){return Math.round(k.c2p(c)-M)});var o=[],P=[];for(AU=0;AU<K;AU++){o.push(AS(AU,f))}for(AT=0;AT<AO;AT++){P.push(AS(AT,AV))}var AY,AX,U,T,w,Z,u,Y;for(AT=0;AT<AO;AT++){AX=P[AT];U=AA[AX.bin0];T=AA[AX.bin1];if(!U||!T){console.log(AT,AX,AA)}for(AU=0;AU<K;AU++){AY=o[AU];w=U[AY.bin0];if(!$.isNumeric(w)){a=e(null,1)}else{u=U[AY.bin1];Z=T[AY.bin0];Y=T[AY.bin1];if(!$.isNumeric(u)){u=w}if(!$.isNumeric(Z)){Z=w}if(!$.isNumeric(Y)){Y=w}a=e(w+AY.frac*(u-w)+AX.frac*((Z-w)+AY.frac*(w+Y-u-Z)))}AN.buffer[AN.index(AU,AT)]=a}}}else{if(J){for(AT=0;AT<AQ;AT++){W=AA[AT];h=O(AT);for(AU=0;AU<AP;AU++){AN.buffer[AN.index(V(AU),h)]=e(W[AU],1)}}}else{for(AT=0;AT<AQ;AT++){W=AA[AT];h.reverse();h[AW]=O(AT+1);if(h[0]==h[1]||h[0]===undefined||h[1]===undefined){continue}AC=V(0);xb=[AC,AC];for(AU=0;AU<AP;AU++){xb.reverse();xb[G]=V(AU+1);if(xb[0]==xb[1]||xb[0]===undefined||xb[1]===undefined){continue}AF=W[AU];a=e(AF,(xb[1]-xb[0])*(h[1]-h[0]));for(AC=xb[0];AC<xb[1];AC++){for(b=h[0];b<h[1];b++){AN.buffer[AN.index(AC,b)]=a}}}}}}Plotly.Lib.markTime("done filling png");X.hmpixcount=(X.hmpixcount||0)+AE;X.hmlumcount=(X.hmlumcount||0)+AJ;var R="data:image/png;base64,\n"+AN.getBase64();$(X).find("."+q).remove();X.plot.append("svg:image").classed(q,true).attr("xmlns","http://www.w3.org/2000/svg").attr("xlink:xlink:href",R).attr("height",AO).attr("width",K).attr("x",L).attr("y",M).attr("preserveAspectRatio","none");Plotly.Lib.markTime("done showing png");$(X).find("."+AL).remove();if(AG.showscale!==false){D(X,l,AL,Q)}Plotly.Lib.markTime("done colorbar")};F.margin=function(G){var I=G.layout;if(G.data&&G.data.length&&I.margin.r<200){for(var H in G.data){if(Plotly.Plots.isHeatmap(G.data[H].type)&&(G.data[H].showscale!==false)){I.margin.r=200;return true}}}return false};function E(G){return Plotly.Lib.aggNums(Math.max,null,G.map(function(H){return Plotly.Lib.aggNums(Math.max,null,H)}))}function A(G){return Plotly.Lib.aggNums(Math.min,null,G.map(function(H){return Plotly.Lib.aggNums(Math.min,null,H)}))}function D(Q,I,N,R){if(Q.layout.margin.r<200){console.log("warning: called relayout from insert_colorbar");Plotly.relayout(Q,"margin.r",200)}var K=I[0].t.zmin,P=I[0].t.zmax,O=R.map(function(S){return K+S[0]*(P-K)}),G=R.map(function(S){return S[1]});$(Q).find("."+N).remove();var H=d3.format("3e");if(Math.max(Math.abs(K),Math.abs(P))<10000){if(Math.abs(P-K)>5){H=d3.format(".0f")}else{if(Math.abs(P-K)>0.01){H=d3.format(".2g")}}}var L=Q.layout,M=Q.infolayer.append("g").classed(N,true).attr("transform","translate("+(L.width-L.margin.r+50)+","+(L.margin.t)+")").classed("colorbar",true).classed("crisp",true).call(Plotly.Drawing.font,L.font.family||"Arial",L.font.size||12,L.font.color||"#000"),J=colorBar(L).color(d3.scale.linear().domain(O).range(G)).size(L.height-L.margin.t-L.margin.b).lineWidth(30).tickFormat(H).precision(2);M.call(J);M.selectAll(".axis line, .axis .domain").style("fill","none").style("stroke","none")}function C(I){var G=I[0].t.scl;if(!G){return Plotly.defaultColorscale}else{if(typeof G=="string"){try{G=Plotly.colorscales[G]||JSON.parse(G)}catch(H){return Plotly.defaultColorscale}}}if(typeof G=="string"){try{G=Plotly.colorscales[G]||JSON.parse(G)}catch(H){return Plotly.defaultColorscale}}return G}}());function colorBar(E){var D="right",G=40,I=300,A=d3.format("3e"),B=d3.scale.linear().domain([0,0.5,1]).range(["blue","green","red"]),K=d3.svg.line().interpolate("basis"),F=8,J,C=0;function H(L){L.each(function(p,T){var Y=d3.select(this),c=C||G,d,e=J||(((D=="left")||(D=="right"))?[[0,I],[0,0]]:[[I,0],[0,0]]),V=W(f(K(e),F)),b=(e)?d:I,O=B.copy().interpolate(d3.interpolate).domain(d3.extent(B.domain())).range([b,0]),X=d3.extent(B.domain()),Z=B.copy().domain(B.domain().map(function(a){return(a-X[0])/(X[1]-X[0])})),k=this.__lineWidth__||G;oldQuads=this.__quads__||V;this.__quads__=V;this.__lineWidth__=G;var j=Y.selectAll("path.c").data(d3.range(V.length),function(a){return a}),N=j.enter().insert("path","g.axis").classed("c",true).classed("crisp",true),U=d3.transition(j.exit()).remove(),q=d3.transition(j),R=function(a,r,t){a.style("fill",function(u){return Z(r(u).t)}).style("opacity",1).style("fill-opacity",1).style("stroke",function(u){return Z(r(u).t)}).attr("d",function(v){var u=r(v);return S(u[0],u[1],u[2],u[3],t)})};N.call(R,function(a){return oldQuads[oldQuads.length-1]},k);U.call(R,function(a){return V[V.length-1]},G);q.call(R,function(a){return V[a]},G);var Q=d3.svg.axis().scale(O).orient(D).tickSize(c).tickFormat(A),m=Y.selectAll("g.axis").data(function(a){return(O)?[1]:[]}),l=m.enter().append("g").classed("axis",true),h=d3.transition(m.exit()).remove(),M=d3.transition(m).call(Q),g=function(a,r){a.attr("transform","translate("+(((D=="right")||(D=="left"))?-r/2:0)+","+(((D=="right")||(D=="left"))?0:r/2)+")")};l.call(g,k);h.call(g,G);M.call(g,G);function f(x,w){var v=document.createElementNS(d3.ns.prefix.svg,"path");v.setAttribute("d",x);d=v.getTotalLength();var r=[0],a=0,u=w;while((a+=u)<d){r.push(a)}r.push(d);return r.map(function(z){var AA=v.getPointAtLength(z),y=[AA.x,AA.y];y.t=z/d;return y})}function W(a){return d3.range(a.length-1).map(function(t){var r=[a[t-1],a[t],a[t+1],a[t+2]];r.t=(a[t].t+a[t+1].t)/2;return r})}function S(AG,AF,AE,AD,u){var v=o(AF,AE),t=u/2,AB=[AF[0]+v[0]*t,AF[1]+v[1]*t],AA=[AE[0]+v[0]*t,AE[1]+v[1]*t],z=[AE[0]-v[0]*t,AE[1]-v[1]*t],y=[AF[0]-v[0]*t,AF[1]-v[1]*t],x;if(AG){var w=o(AG,AF);x=[AF[0]+w[0]+v[0],AF[1]+w[1]+v[1]];AB=P(AF,x,AB,AA);y=P(AF,x,y,z)}if(AD){var AC=o(AE,AD);x=[AE[0]+AC[0]+v[0],AE[1]+AC[1]+v[1]];AA=P(AE,x,AB,AA);z=P(AE,x,y,z)}AB=fixArray(AB);AA=fixArray(AA);z=fixArray(z);y=fixArray(y);return"M"+AB+"L"+AA+" "+z+" "+y+"Z"}function P(AC,z,y,w){var u=y[0],r=AC[0],v=w[0]-u,AD=z[0]-r,AB=y[1],x=AC[1],AA=w[1]-AB,AE=z[1]-x,t=(AD*(AB-x)-AE*(u-r))/(AE*v-AD*AA);return[u+t*v,AB+t*AA]}function o(v,u){var t=v[1]-u[1],r=u[0]-v[0],a=Math.sqrt(t*t+r*r);return[t/a,r/a]}})}H.orient=function(L){if(!arguments.length){return D}D=L;return H};H.lineWidth=function(L){if(!arguments.length){return G}G=L;return H};H.size=function(L){if(!arguments.length){return I}I=L;return H};H.tickFormat=function(L){if(!arguments.length){return A}A=L;return H};H.tickSize=function(L){if(!arguments.length){return C}C=L;return H};H.color=function(L){if(!arguments.length){return B}B=L;return H};H.precision=function(L){if(!arguments.length){return F}F=L;return H};H.points=function(L){if(!arguments.length){return J}J=L;return H};H.line=function(L){if(!arguments.length){return K}K=L;return H};return H}function fixArray(A){return([Number((A[0]).toFixed(4)),Number((A[1]).toFixed(4))])}(function(){var C=window.Plotly.ErrorBars={};C.pushRef2GDC=function(O,J,M,G){var P=false,H,L,K,F,I;if(M==="error_y.type"){if(J==="various"){P=true;J=0}H=O.calcdata[Number(J)];L=Number(H[0].t.ye_tref)}else{if(M==="error_y.traceref"){if(J==="various"){P=true}L=Number(G)}}if(!P){K=O.data[Number(J)];F=O.data[L];K.error_y.array=F.y}else{I=O.data;for(var N=0;N<I.length;N++){F=O.data[L];I[N].error_y.array=F.y}}};C.styleBoxDrop=function(M,G,W,F,S,J,R,O){var K=(F[0][0]===undefined)?K==F[0].t:F[0][0].t,U=false;if(!S){S=F;U=true}var P=$(dropdown("select-"+G,W)).appendTo(M).get(0),T=d3.select(P),H=$(M).parents(".popover"),N={ye_tkns:"error_y.thickness",ye_w:"error_y.width",ye_tref:"error_y.traceref"};var L=T.select("ul").selectAll("li").data(S).enter().append("li").append("a").on("click",function(a,X){var Z=$(this).parents(".btn-group");Z.find(".selected-val").html(Z.find("li")[X].innerHTML);var Y=J||H[0].applyChange;Y({popover:H,astr:N[G],val:a[0].t[G],d:a,i:X})});if(O){var V=40,I=20;L.append("svg").attr("width",V).attr("height",I).style("position","relative").style("top","2px").append("g").attr("transform","translate(0,"+I/2+")").each(function(Z,X){var Y=(Z[0].t.ye_clr==="various"?"#000":Z[0].t.ye_clr);d3.select(this).append("polyline").attr("points","5,0 35,0").attr(R,Z[0].t[G]).attr("stroke",Y)})}L.append("span").html(function(X){return X[0].t.name+"&nbsp;"});if(!U){for(var Q=0;Q<S.length&&S[Q][0].t[G]!=F[0].t[G];Q++){Q=Q%S.length}if(Q===S.length){$(P).find(".btn-group .selected-val").html("Various")}else{$(P).find(".btn-group .selected-val").html($(T.node()).find("li")[Q].innerHTML)}}};function B(F){if(Plotly.Plots.isBar(F)){return function(G){return G.s+G.b}}else{return function(G){return G.y}}}function D(F){if(Plotly.Plots.isBar(F)){return function(G){return G.p}}else{return function(G){return G.x}}}C.ydr=function(S){var H=S.data,G=S.calcdata,F=S.layout.xaxis,P=S.layout.yaxis,Q=[];if(!H||!H.length||["linear","log"].indexOf(P.type)==-1){return }for(var L=0;L<G.length;L++){var T=G[L][0].t;if(!T.ye_vis||(Plotly.Plots.isBar(T.type)&&T.bardir=="h")){continue}var O=T.ye_type;var R=B(T.type),K=D(T.type);for(var J=0;J<G[L].length;J++){var I=R(G[L][J]),N=K(G[L][J]);if($.isNumeric(P.c2l(I))&&$.isNumeric(F.c2l(N))){var M=E(O,I,S,T,J);if($.isNumeric(M)){Q.push(I-M,I+M)}}}}return Q};C.plot=function(F,H){F.plot.selectAll("g.errorbars").remove();var G;F.plot.selectAll("g.errorbars").data(H).enter().append("g").attr("class","errorbars").each(function(K){var I=K[0].t;if(!I.ye_vis||(Plotly.Plots.isBar(I.type)&&I.bardir=="h")){return }var J=I.ye_type;d3.select(this).selectAll("g").data(function(L){return L}).enter().append("g").each(function(L,N){G=A(L,F,J,I,N);if(!$.isNumeric(G.x)||!$.isNumeric(G.yh)||!$.isNumeric(G.ys)){return }var M=d3.select(this);M.append("line").attr("x1",G.x).attr("x2",G.x).attr("y1",G.yh).attr("y2",G.ys);M.append("line").attr("x1",G.x-I.ye_w).attr("x2",G.x+I.ye_w).attr("y1",G.yh).attr("y2",G.yh);if(G.shoes){M.append("line").attr("x1",G.x-I.ye_w).attr("x2",G.x+I.ye_w).attr("y1",G.ys).attr("y2",G.ys)}})})};C.style=function(F){F.attr("stroke",function(G){return G[0].t.ye_clr}).style("opacity",function(G){return G[0].t.ye_op}).each(function(G){d3.select(this).selectAll("g line").attr("stroke-width",G[0].t.ye_tkns)})};function E(H,L,I,F,G){try{var K=Number(H=="data"?I.data[F.curve].error_y.array[G]:F.ye_val);if(H==="percent"){return Math.abs(L*K/100)}else{if(H==="constant"||H==="data"){return Math.abs(K)}else{if(H==="sqrt"){return Math.sqrt(L)}}}console.log("unrecognized errorbar type",H,K,L)}catch(J){console.log(J)}}function A(K,N,L,R,Q){var F=N.layout.xaxis,M=N.layout.yaxis,G=B(R.type)(K),I=F.c2p(Plotly.Plots.isBar(R.type)?K.p+R.poffset+R.barwidth/2:K.x),O=true;var J=E(L,G,N,R,Q),H=M.c2p(G+J),P=M.c2p(G-J);if(!$.isNumeric(P)){O=false;P=M.c2p(G-J,true)}return{x:I,yh:H,ys:P,shoes:O}}}());(function(){var C=Plotly.Annotations={};C.drawAll=function(F){var D=F.layout.annotations;F.infolayer.selectAll(".annotation").remove();if(D){for(var E in D){C.draw(F,E)}}};C.add=function(E){var D=E.layout.annotations||[];Plotly.relayout(E,"annotations["+D.length+"]","add")};C.draw=function(P,b,S,l){var M=P.layout,L=P.margin,u=Plotly.Fx.MINDRAG,q;if(!M.annotations){M.annotations=[]}if(!$.isNumeric(b)||b==-1){if(!b&&$.isArray(l)){M.annotations=l;C.drawAll(P);return }else{if(l=="remove"){M.annotations=[];C.drawAll(P);return }else{if(S&&l!="add"){for(q=0;q<M.annotations.length;q++){C.draw(P,q,S,l)}return }else{b=M.annotations.length;M.annotations.push({})}}}}if(!S&&l){if(l=="remove"){P.infolayer.selectAll('.annotation[data-index="'+b+'"]').remove();M.annotations.splice(b,1);for(q=b;q<M.annotations.length;q++){P.infolayer.selectAll('.annotation[data-index="'+(q+1)+'"]').attr("data-index",String(q));C.draw(P,q)}return }else{if(l=="add"||$.isPlainObject(l)){M.annotations.splice(b,0,{});if($.isPlainObject(l)){Object.keys(l).forEach(function(w){M.annotations[b][w]=l[w]})}for(q=M.annotations.length-1;q>b;q--){P.infolayer.selectAll('.annotation[data-index="'+(q-1)+'"]').attr("data-index",String(q));C.draw(P,q)}}}}P.infolayer.selectAll('.annotation[data-index="'+b+'"]').remove();var W=M.annotations[b];var Z=W.ref,o=M.xaxis,X=M.yaxis,d=o.range[1]-o.range[0],O=X.range[1]-X.range[0];if(typeof S=="string"&&S){Plotly.Lib.nestedProperty(W,S).set(l)}else{if($.isPlainObject(S)){Object.keys(S).forEach(function(w){W[w]=S[w]})}}if(!W.bordercolor){W.bordercolor=""}if(!$.isNumeric(W.borderwidth)){W.borderwidth=1}if(!W.bgcolor){W.bgcolor="rgba(0,0,0,0)"}if(!W.ref){W.ref="plot"}if(W.showarrow!==false){W.showarrow=true}if(!$.isNumeric(W.borderpad)){W.borderpad=1}if(!W.arrowwidth){W.arrowwidth=0}if(!W.arrowcolor){W.arrowcolor=""}if(!$.isNumeric(W.arrowhead)){W.arrowhead=1}if(!$.isNumeric(W.arrowsize)){W.arrowsize=1}if(!W.tag){W.tag=""}if(!W.text){W.text=((W.showarrow&&(W.text===""))?"":"new text")}if(!W.font){W.font={family:"",size:0,color:""}}if(!W.opacity){W.opacity=1}if(!W.align){W.align="center"}var g=P.paperdiv.node().getBoundingClientRect(),I=d3.select(P).select(".nsewdrag").node().getBoundingClientRect(),k=I.left-g.left,j=I.top-g.top;var h=P.infolayer.append("svg").attr("class","annotation").attr("data-cmmt",W.tag).call(Plotly.Drawing.setPosition,0,0).attr("data-index",String(b)).style("opacity",W.opacity);var R=W.borderwidth;var m=h.append("rect").attr("class","bg").call(Plotly.Drawing.strokeColor,W.bordercolor||"rgba(0,0,0,0)").attr("stroke-width",R).call(Plotly.Drawing.fillColor,W.bgcolor);var t=W.font.family||M.font.family||"Arial";var Q=W.font.size||M.font.size||12;var a=W.font.color||M.font.color||"#000";var r=1;var K={left:"right",center:"center",right:"left"}[W.align];function f(){var w=d3.select(P).select("svg>rect.bg");var y=W.borderpad+W.borderwidth;var x={horizontalAlign:K,verticalAlign:"top",horizontalMargin:y,verticalMargin:y,orientation:"inside"};this.style({"font-family":t,"font-size":Q,fill:a,opacity:r}).call(d3.plugly.convertToTspans).call(d3.plugly.alignSVGWith(w,x))}var U=h.append("text").attr("class","annotation").attr("data-cmmt",W.tag).text(W.text);U.attr({"data-unformatted":W.text});if(P.mainsite){U.call(d3.plugly.makeEditable).call(f).on("edit",function(x){W.text=x;this.attr({"data-unformatted":W.text});this.call(f);var w=Plotly.Lib.nestedProperty(M,"annotations["+b+"].text");var y={};y[w.astr]=W.text;if(M.xaxis.autorange){y["xaxis.autorange"]=true}if(M.yaxis.autorange){y["yaxis.autorange"]=true}Plotly.relayout(P,y)})}else{U.call(f)}var D=U.node().getBoundingClientRect(),c=D.width,N=D.height;W._w=c;W._h=N;function H(w,z,x,y){if(z=="log"&&x!="log"){return Math.pow(10,w)}else{if(z!="log"&&x=="log"){return(w>0)?Math.log(w)/Math.LN10:y}else{return w}}}if(W.ref=="plot"&&W._xatype&&W._yatype){W.x=H(W.x,W._xatype,o.type,(o.range[0]+o.range[1]-Math.abs(d*0.8))/2);W.y=H(W.y,W._yatype,X.type,(X.range[0]+X.range[1]-Math.abs(O*0.8))/2)}W._xatype=o.type;W._yatype=X.type;function J(w){return Plotly.Lib.constrain(Math.floor(w*3-1),-0.5,0.5)}if(Z&&W.x&&W.y){if(W.ref=="plot"&&Z=="paper"){var V=0,v=0;if(!W.showarrow){V=J(W.x)*c/o._m;v=J(W.y)*N/X._m}W.x=o.range[0]+d*W.x-V;W.y=X.range[0]+O*W.y+v}else{if(W.ref=="paper"&&Z=="plot"){W.x=(W.x-o.range[0])/d;W.y=(W.y-X.range[0])/O;if(!W.showarrow){W.x+=J(W.x)*c/(d*o._m);W.y-=J(W.y)*N/(O*X._m)}}}}if(!W.ax){W.ax=-10}if(!W.ay){W.ay=-N/2-20}if(W.ref=="paper"){if(!$.isNumeric(W.x)){W.x=0.1}if(!$.isNumeric(W.y)){W.y=0.7}k+=I.width*W.x;j+=I.height*(1-W.y);if(!W.showarrow){if(W.x>2/3){k-=c/2}else{if(W.x<1/3){k+=c/2}}if(W.y<1/3){j-=N/2}else{if(W.y>2/3){j+=N/2}}}}else{if((W.x-o.range[0])*(W.x-o.range[1])>0||(W.y-X.range[0])*(W.y-X.range[1])>0){h.remove();return }if(!$.isNumeric(W.x)){W.x=(o.range[0]*0.9+o.range[1]*0.1)}if(!$.isNumeric(W.y)){W.y=(X.range[0]*0.7+X.range[1]*0.3)}k+=o._b+W.x*o._m;j+=X._b+W.y*X._m}if(W.showarrow){var G=Plotly.Lib.constrain(k,1,g.width-1),F=Plotly.Lib.constrain(j,1,g.height-1);k+=W.ax;j+=W.ay}k=Plotly.Lib.constrain(k,1,g.width-1);j=Plotly.Lib.constrain(j,1,g.height-1);var p=Number(W.borderpad),e=R+p+1,E=c+2*e,T=N+2*e;h.call(Plotly.Drawing.setRect,k-E/2,j-T/2,E,T);m.call(Plotly.Drawing.setSize,c+R+2*p,N+R+2*p);U.attr({x:g.left-D.left+e,y:g.top-D.top+e*1.5}).selectAll("tspan.line").attr({y:g.top-D.top+e*2});var Y=function(AG,AE){$(P).find('g.annotation[data-index="'+b+'"]').remove();var x=k+AG,AD=j+AE,z=true;var AA=[m.node().getBoundingClientRect()],w=0;AA.forEach(function(AM){var AJ=AM.left-g.left-w,AL=AM.top-g.top-w,AI=AM.right-g.left+w,AK=AM.bottom-g.top+w,AH=[[AJ,AL,AJ,AK],[AJ,AK,AI,AK],[AI,AK,AI,AL],[AI,AL,AJ,AL]];if(G>AJ&&G<AI&&F>AL&&F<AK){z=false;return }AH.forEach(function(AN){var AO=A(x,AD,G,F,AN[0],AN[1],AN[2],AN[3]);if(AO){x=AO.x;AD=AO.y}})});if(z){var AF=W.arrowwidth||R*2||2;var y=P.infolayer.append("g").attr("class","annotation").attr("data-cmmt",W.tag).attr("data-index",String(b)).style("opacity",W.opacity);var AC=y.append("path").attr("class","annotation").attr("data-cmmt",W.tag).attr("data-index",String(b)).attr("d","M"+x+","+AD+"L"+G+","+F).attr("stroke-width",AF).call(Plotly.Drawing.strokeColor,W.arrowcolor||(Plotly.Drawing.opacity(W.bordercolor)?W.bordercolor:"")||"#000");B(AC,W.arrowhead,"end",W.arrowsize);var AB=y.append("path").attr("class","annotation anndrag").attr("data-cmmt",W.tag).attr("data-index",String(b)).attr("d","M3,3H-3V-3H3ZM0,0L"+(x-G)+","+(AD-F)).attr("transform","translate("+G+","+F+")").attr("stroke-width",AF+6).call(Plotly.Drawing.strokeColor,"rgba(0,0,0,0)").call(Plotly.Drawing.fillColor,"rgba(0,0,0,0)");if(P.mainsite){AB.node().onmousedown=function(AL){if(Plotly.Fx.dragClear(P)){return true}var AM=this,AH=d3.select(this),AI=Number(h.attr("x")),AJ=Number(h.attr("y")),AN={},AK="annotations["+b+"]";P.dragged=false;window.onmousemove=function(AQ){var AP=AQ.clientX-AL.clientX,AO=AQ.clientY-AL.clientY;if(Math.abs(AP)<u){AP=0}if(Math.abs(AO)<u){AO=0}if(AP||AO){P.dragged=true}y.attr("transform","translate("+AP+","+AO+")");h.call(Plotly.Drawing.setPosition,AI+AP,AJ+AO);if(W.ref=="paper"){AN[AK+".x"]=(G+AP-L.l)/(M.width-L.l-L.r);AN[AK+".y"]=1-((F+AO-L.t)/(M.height-L.t-L.b))}else{AN[AK+".x"]=W.x+AP/M.xaxis._m;AN[AK+".y"]=W.y+AO/M.yaxis._m}return Plotly.Lib.pauseEvent(AQ)};window.onmouseup=function(AO){window.onmousemove=null;window.onmouseup=null;if(P.dragged){Plotly.relayout(P,AN)}return Plotly.Lib.pauseEvent(AO)};return Plotly.Lib.pauseEvent(AL)}}}};if(W.showarrow){Y(0,0)}if(P.mainsite){h.node().onmousedown=function(AA){if(Plotly.Fx.dragClear(P)){return true}var AB=this,w=d3.select(this),x=Number(w.attr("x")),y=Number(w.attr("y")),AC={},z="annotations["+b+"]";P.dragged=false;Plotly.Fx.setCursor(w);window.onmousemove=function(AG){var AE=AG.clientX-AA.clientX,AD=AG.clientY-AA.clientY;if(Math.abs(AE)<u){AE=0}if(Math.abs(AD)<u){AD=0}if(AE||AD){P.dragged=true}w.call(Plotly.Drawing.setPosition,x+AE,y+AD);var AF="pointer";if(W.showarrow){AC[z+".ax"]=W.ax+AE;AC[z+".ay"]=W.ay+AD;Y(AE,AD)}else{if(W.ref=="paper"){AC[z+".x"]=Plotly.Fx.dragAlign(x+AE+e,c,L.l,M.width-L.r);AC[z+".y"]=1-Plotly.Fx.dragAlign(y+AD+e,N,L.t,M.height-L.b);AF=Plotly.Fx.dragCursors(AC[z+".x"],AC[z+".y"])}else{AC[z+".x"]=W.x+AE/M.xaxis._m;AC[z+".y"]=W.y+AD/M.yaxis._m}}Plotly.Fx.setCursor(w,AF);return Plotly.Lib.pauseEvent(AG)};window.onmouseup=function(AD){window.onmousemove=null;window.onmouseup=null;Plotly.Fx.setCursor(w);if(P.dragged){Plotly.relayout(P,AC)}return Plotly.Lib.pauseEvent(AD)};return Plotly.Lib.pauseEvent(AA)}}};function B(G,D,K,J){if(!$.isNumeric(J)){J=1}var F=G.node();s=["M-1,-2V2L1,0Z","M-2,-2V2L2,0Z","M-2,-2L0,0L-2,2L2,0Z","M-2.2,-2.2L0,0L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z","M-4.2,-2.1L0,0L-4.2,2.1L-3.8,3L2.2,0L-3.8,-3Z","M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z","M2,2V-2H-2V2Z",""][D-1];if(!s){return }if(typeof K!="string"||!K){K="end"}var E,I,M,H,L;if(F.nodeName=="line"){E={x:G.attr("x1"),y:G.attr("y1")};I={x:G.attr("x2"),y:G.attr("y2")};M=I;H=E}else{if(F.nodeName=="path"){E=F.getPointAtLength(0);M=F.getPointAtLength(0.1);L=F.getTotalLength();I=F.getPointAtLength(L);H=F.getPointAtLength(L-0.1)}}var N=function(S,Q){var O=Math.atan2(S.y-Q.y,S.x-Q.x)*180/Math.PI,T=(G.attr("stroke-width")||1)*(J),R=G.attr("stroke")||"#000",P=G.style("stroke-opacity")||1;if(D>5){O=0}d3.select(F.parentElement).append("path").attr("class",G.attr("class")).attr("data-cmmt",G.attr("data-cmmt")).attr("data-index",G.attr("data-index")).style("fill",R).style("fill-opacity",P).attr("stroke-width",0).attr("d",s).attr("transform","translate("+S.x+","+S.y+")rotate("+O+")scale("+T+")")};if(K.indexOf("start")>=0){N(E,M)}if(K.indexOf("end")>=0){N(I,H)}}C.allArrowheads=function(D){if(D){$(D).find("[data-arrowhead]").each(function(){B(d3.select(this).select("line"),Number($(this).attr("data-arrowhead")))});return }return[1,2,3,4,5,6,7,8].map(function(E){return{val:E,name:'<svg width="40" height="20" data-arrowhead="'+E+'" style="position: relative; top: 2px;"><line stroke="rgb(0,0,0)" style="fill: none;" x1="5" y1="10" x2="25" y2="10" stroke-width="2"></line></svg>'}})};C.calcAutorange=function(M){var J=M.layout,D=J.xaxis,L=J.yaxis;if((!D.autorange&&!L.autorange)||!J.annotations||!M.data||!M.data.length){return }var K=J.annotations,G=M.plotbg.node().getBoundingClientRect(),F=(G.left+G.right)/2,E=(G.top+G.bottom)/2,I={left:F,right:F,top:E,bottom:E};var H=[];K.forEach(function(N){if(N.ref=="plot"){H.push($.extend({},N,{x:0.5,y:0.5,ref:"paper",x0:N.x,y0:N.y,opacity:1}))}});J.annotations=H;C.drawAll(M);J.annotations.forEach(function(N,R){var S=M.infolayer.selectAll('g.annotation[data-index="'+R+'"]').node(),T=S?S.getBoundingClientRect():I,Q=M.infolayer.selectAll('svg.annotation[data-index="'+R+'"]').node(),V=Q?Q.getBoundingClientRect():I,U=Math.max(0,F-Math.min(T.left,V.left)),O=Math.max(0,Math.max(T.right,V.right)-F),W=Math.max(0,E-Math.min(T.top,V.top)),P=Math.max(0,Math.max(T.bottom,V.bottom)-E);Plotly.Axes.expand(D,[D.l2c(N.x0)],{ppadplus:O,ppadminus:U});Plotly.Axes.expand(L,[L.l2c(N.y0)],{ppadplus:P,ppadminus:W})});J.annotations=K};function A(F,Q,E,O,D,M,T,K){var P=E-F,N=D-F,L=T-D,J=O-Q,I=M-Q,H=K-M,G=P*H-L*J;if(G===0){return null}var S=(N*H-L*I)/G,R=(N*J-P*I)/G;if(R<0||R>1||S<0||S>1){return null}return{x:F+P*S,y:Q+J*S}}}());(function(){var B=Plotly.Legend={};B.lines=function(D){var C=D[0].t;if(["scatter",undefined].indexOf(D[0].t.type)==-1){return }if(C.fill&&C.fill!="none"&&$.isNumeric(C.cdcurve)){d3.select(this).append("path").attr("data-curve",C.cdcurve).attr("d","M5,0h30v6h-30z").call(Plotly.Drawing.fillGroupStyle)}if(!C.mode||C.mode.indexOf("lines")==-1){return }d3.select(this).append("polyline").call(Plotly.Drawing.lineGroupStyle).attr("points","5,0 35,0")};B.points=function(I){var F=I[0].t;if(["scatter",undefined].indexOf(F.type)==-1||!F.mode){return }var D=F.mode.indexOf("markers")!=-1,E=F.mode.indexOf("text")!=-1;if(!D&&!E){return }var C=function(K){var J={tx:"Aa",mo:1};if(K[0].ms>16){J.ms=16}if(K[0].mlw>5){J.mlw=5}return[$.extend({},K[0],J)]},G=$.extend({},F,{ts:10,ms:Math.min(F.ms,16),msr:1,msm:"diameter",lw:Math.min(F.lw,10)});var H=d3.select(this).append("g").attr("class","legendpoints");if(D){H.selectAll("path").data(C).enter().append("path").call(Plotly.Drawing.pointStyle,G).attr("transform","translate(20,0)")}if(E){H.selectAll("text").data(C).enter().append("text").call(Plotly.Drawing.textPointStyle,G).attr("transform","translate(20,0)")}};B.bars=function(D){var C=D[0].t;if(!Plotly.Plots.isBar(C.type)){return }d3.select(this).append("g").attr("class","legendpoints").selectAll("path").data(Plotly.Lib.identity).enter().append("path").attr("d","M6,6H-6V-6H6Z").each(function(G){var E=(G.mlw+1||C.mlw+1||(G.t?G.t.mlw:0)+1)-1,F=d3.select(this);F.attr("stroke-width",E).call(Plotly.Drawing.fillColor,G.mc||C.mc||(G.t?G.t.mc:""));if(E){F.call(Plotly.Drawing.strokeColor,G.mlc||C.mlc||(G.t?G.t.mlc:""))}}).attr("transform","translate(20,0)")};B.boxes=function(D){var C=D[0].t;if(C.type!=="box"){return }d3.select(this).append("g").attr("class","legendpoints").selectAll("path").data(Plotly.Lib.identity).enter().append("path").attr("d","M6,6H-6V-6H6Z").each(function(G){var E=(G.lw+1||C.lw+1||(G.t?G.t.lw:0)+1)-1,F=d3.select(this);F.attr("stroke-width",E).call(Plotly.Drawing.fillColor,G.fc||C.fc||(G.t?G.t.fc:""));if(E){F.call(Plotly.Drawing.strokeColor,G.lc||C.lc||(G.t?G.t.lc:""))}}).attr("transform","translate(20,0)")};function A(E,F){var D=F.layout.font,C=F.layout.legend.font;return E.append("text").attr("class",function(G){return"legendtext text-"+G[0].t.curve}).call(Plotly.Drawing.setPosition,40,0).attr("text-anchor","start").call(Plotly.Drawing.font,C.family||D.family||"Arial",C.size||D.size||12,C.color||D.color||"#000")}B.draw=function(V){var P=V.layout,O=P.margin;P.showlegend=true;if(!P.legend){P.legend={}}var H=P.legend;V.infolayer.selectAll(".legend").remove();if(!V.calcdata){return }var L=[],Q;for(Q=0;Q<V.calcdata.length;Q++){if(V.calcdata[Q][0].t.visible!==false){L.push([V.calcdata[Q][0]])}}if(H.traceorder=="reversed"){L.reverse()}V.legend=V.infolayer.append("svg").attr("class","legend");var R=H.bordercolor||"#000",M=H.borderwidth||1,C=H.bgcolor||P.paper_bgcolor||"#fff";V.legend.append("rect").attr("class","bg").call(Plotly.Drawing.strokeColor,R).attr("stroke-width",M).call(Plotly.Drawing.fillColor,C);var N=V.legend.selectAll("g.traces").data(L);N.enter().append("g").attr("class","trace");N.append("g").call(Plotly.Drawing.traceStyle,V).each(B.bars).each(B.boxes).each(B.lines).each(B.points);var T=N.call(A,V).selectAll("text");function I(){this.call(d3.plugly.convertToTspans);var W=this.attr("x");this.selectAll("tspan.line").attr({x:W})}if(V.mainsite){T.each(function(X,W){d3.select(this).attr({"data-unformatted":function(Z,Y){return Z[0].t.name}}).text(function(Z,Y){return Z[0].t.name}).call(d3.plugly.makeEditable).call(I).on("edit",function(a){this.attr({"data-unformatted":a});this.text(a).call(I);if(this.text()===""){a=" \u0020\u0020 "}var Y=Number(this.attr("class").split("-")[1]);var Z=Plotly.Lib.nestedProperty(V.data[Y],"name");Z.name=a;X[0].t.name=a;Plotly.restyle(V,Z.astr,a,Y)})})}else{T.each(function(X,W){d3.select(this).text(function(Z,Y){return Z[0].t.name}).call(I)})}var G=0,F=0;N.each(function(c){var a=d3.select(this),Y=a.select("text"),W=a.select(".legendpoints");if(c[0].t.showinlegend===false){a.remove();return }var b=Y.node().getBoundingClientRect();if(!W.node()){W=a.select("path")}if(!W.node()){W=a.select("polyline")}var Z=(!W.node())?b:W.node().getBoundingClientRect();Y.attr("y",(Z.top+Z.bottom-b.top-b.bottom)/2);var X=this.getBoundingClientRect();G=Math.max(G,b.width);a.attr("transform","translate("+M+","+(5+M+F+X.height/2)+")");F+=X.height+3});G+=45+M*2;F+=10+M*2;var K=P.width-O.l-O.r,U=P.height-O.t-O.b;if(!$.isNumeric(H.x)||(H.x>10&&H.x!=100)){H.x=0.98}if(!$.isNumeric(H.y)||(H.y>10&&H.y!=100)){H.y=0.98}var E=O.l+K*H.x,D=O.t+U*(1-H.y),S=3;if(Math.abs(H.x)==100&&Math.abs(H.y)==100){H.y=0.5}var J=V.changed;if(H.x==-100){E=S;if(V.lw!=-G-2*S){V.lw=-G-2*S;Plotly.relayout(V,"margin.l",O.l);return }}else{if(H.x==100){E=P.width-G-S;if(V.lw!=G+2*S){V.lw=G+2*S;Plotly.relayout(V,"margin.r",O.r);return }}else{if(V.lw){delete V.lw;Plotly.relayout(V,"margin.r",O.r);return }if(H.x>2/3){E-=G}else{if(H.x>1/3){E-=G/2}}}}if(H.y==-100){D=P.height-F-S;if(V.lh!=-F-2*S){V.lh=-F-2*S;Plotly.relayout(V,"margin.b",O.b);return }}else{if(H.y==100){D=S+16;if(V.lh!=F+2*S){V.lh=F+2*S;Plotly.relayout(V,"margin.t",O.t);return }}else{if(V.lh){delete V.lh;Plotly.relayout(V,"margin.t",O.t);return }if(H.y<1/3){D-=F}else{if(H.y<2/3){D-=F/2}}}}V.changed=J;if(E+G>P.width){E=P.width-G}if(E<0){E=0}if(D+F>P.height){D=P.height-F}if(D<0){D=0}V.legend.call(Plotly.Drawing.setRect,E,D,G,F);V.legend.selectAll(".bg").call(Plotly.Drawing.setRect,M/2,M/2,G-M,F-M);if(V.mainsite){V.legend.node().onmousedown=function(b){if(Plotly.Fx.dragClear(V)){return true}var c=this,W=d3.select(this),X=Number(W.attr("x")),Z=Number(W.attr("y")),Y=null,a=null;V.dragged=false;Plotly.Fx.setCursor(W);window.onmousemove=function(k){var f=k.clientX-b.clientX,e=k.clientY-b.clientY,j=V.margin,h=Plotly.Fx.MINDRAG;if(Math.abs(f)<h){f=0}if(Math.abs(e)<h){e=0}if(f||e){V.dragged=true}W.call(Plotly.Drawing.setPosition,X+f,Z+e);var d=V.paperdiv.node().getBoundingClientRect();if(k.clientX>d.right-3*h||(V.lw>0&&f>-h)){Y=100}else{if(k.clientX<d.left+3*h||(V.lw<0&&f<h)){Y=-100}else{Y=Plotly.Fx.dragAlign(X+f,G,j.l,P.width-j.r)}}if(k.clientY>d.bottom-3*h||(V.lh<0&&e>-h)){a=-100}else{if(k.clientY<d.top+3*h||(V.lh>0&&e<h)){a=100}else{a=1-Plotly.Fx.dragAlign(Z+e,F,j.t,P.height-j.b)}}var g=Plotly.Fx.dragCursors(Y,a);Plotly.Fx.setCursor(W,g);return Plotly.Lib.pauseEvent(k)};window.onmouseup=function(d){window.onmousemove=null;window.onmouseup=null;Plotly.Fx.setCursor(W);if(V.dragged&&Y!==null&&a!==null){Plotly.relayout(V,{"legend.x":Y,"legend.y":a})}return Plotly.Lib.pauseEvent(d)};return Plotly.Lib.pauseEvent(b)}}}}());(function(){var B=Plotly.Drawing={};B.rgb=function(G){var H=tinycolor(G).toRgb();return"rgb("+Math.round(H.r)+", "+Math.round(H.g)+", "+Math.round(H.b)+")"};B.opacity=function(G){return tinycolor(G).alpha};B.addOpacity=function(G,I){var H=tinycolor(G).toRgb();return"rgba("+Math.round(H.r)+", "+Math.round(H.g)+", "+Math.round(H.b)+", "+I+")"};B.strokeColor=function(G,H){G.attr("stroke",B.rgb(H)).style("stroke-opacity",B.opacity(H))};B.fillColor=function(G,H){G.style("fill",B.rgb(H)).style("fill-opacity",B.opacity(H))};B.font=function(I,H,G,J){if(H!==undefined){I.attr("font-family",H)}if(G!==undefined){I.attr("font-size",G)}if(J!==undefined){I.call(B.fillColor,J)}};B.setPosition=function(H,G,I){H.attr("x",G).attr("y",I)};B.setSize=function(I,G,H){I.attr("width",G).attr("height",H)};B.setRect=function(J,G,K,H,I){J.call(B.setPosition,G,K).call(B.setSize,H,I)};B.translatePoints=function(H,I,G){H.each(function(L){var J=I.c2p(L.x),M=G.c2p(L.y),K=d3.select(this);if($.isNumeric(J)&&$.isNumeric(M)){if(this.nodeName=="text"){K.attr("x",J).attr("y",M)}else{K.attr("transform","translate("+J+","+M+")")}}else{K.remove()}})};B.traceStyle=function(H,I){var G=0,J=I.layout;H.style("opacity",function(K){return K[0].t.op}).each(function(K){if(Plotly.Plots.isBar(K[0].t.type)){G++}}).each(function(K){if(Plotly.Plots.isBar(K[0].t.type)&&((J.barmode=="stack"&&G>1)||(J.bargap===0&&J.bargroupgap===0&&!K[0].t.mlw))){d3.select(this).attr("shape-rendering","crispEdges")}})};B.lineGroupStyle=function(G){G.attr("stroke-width",function(H){return H[0].t.lw}).each(function(H){d3.select(this).call(B.strokeColor,H[0].t.lc)}).style("fill","none").attr("stroke-dasharray",function(J){var H=J[0].t.ld,I=Math.max(J[0].t.lw,3);if(H=="solid"){return""}if(H=="dot"){return I+","+I}if(H=="dash"){return(3*I)+","+(3*I)}if(H=="longdash"){return(5*I)+","+(5*I)}if(H=="dashdot"){return(3*I)+","+I+","+I+","+I}if(H=="longdashdot"){return(5*I)+","+(2*I)+","+I+","+(2*I)}return H})};B.fillGroupStyle=function(G){G.attr("stroke-width",0).each(function(L){var H=d3.select(this);var I=$(H.node()).parents(".graph-container").parent()[0];try{H.call(B.fillColor,I.calcdata[H.attr("data-curve")][0].t.fc)}catch(K){try{H.call(B.fillColor,L[0].t.fc)}catch(J){H.remove()}}})};var C=["circle","square","diamond","cross","x","triangle-up","triangle-down","triangle-left","triangle-right"];B.pointStyle=function(I,H){if(["scatter","box"].indexOf(H.type)!=-1){var G=H.msr||1,J=(H.msm=="area")?function(L){return Math.sqrt(L/G)}:function(L){return L/G};I.attr("d",function(V){var M=J(((V.ms+1||H.ms+1||(V.t?V.t.ms:0)+1)-1)/2);if(!$.isNumeric(M)||M<0){M=3}var Q=String(d3.round(M*2/Math.sqrt(3),2)),P=String(d3.round(M/2,2)),S=String(d3.round(M,2));var W=(V.mx||H.mx||(V.t?V.t.mx:""));if($.isNumeric(W)){W=C[W]}if(W=="square"){return"M"+S+","+S+"H-"+S+"V-"+S+"H"+S+"Z"}if(W=="diamond"){var Y=String(d3.round(M*Math.sqrt(2),2));return"M"+Y+",0L0,"+Y+"L-"+Y+",0L0,-"+Y+"Z"}if(W=="triangle-up"){return"M-"+Q+","+P+"H"+Q+"L0,-"+S+"Z"}if(W=="triangle-down"){return"M-"+Q+",-"+P+"H"+Q+"L0,"+S+"Z"}if(W=="triangle-right"){return"M-"+P+",-"+Q+"V"+Q+"L"+S+",0Z"}if(W=="triangle-left"){return"M"+P+",-"+Q+"V"+Q+"L-"+S+",0Z"}if(W=="cross"){var L=String(d3.round(M*0.4,2)),O=String(d3.round(M*1.2,2));return"M"+O+","+L+"H"+L+"V"+O+"H-"+L+"V"+L+"H-"+O+"V-"+L+"H-"+L+"V-"+O+"H"+L+"V-"+L+"H"+O+"Z"}if(W=="x"){var N=String(d3.round(M*0.8/Math.sqrt(2),2)),R="l"+N+","+N,U="l"+N+",-"+N,X="l-"+N+",-"+N,T="l-"+N+","+N;return"M0,"+N+R+U+X+U+X+T+X+T+R+T+R+"Z"}return"M"+S+",0A"+S+","+S+" 0 1,1 0,-"+S+"A"+S+","+S+" 0 0,1 "+S+",0Z"}).style("opacity",function(L){return(L.mo+1||H.mo+1||(L.t?L.t.mo:0)+1)-1})}var K={m:F(H,"m"),ml:F(H,"ml"),so:F(H,"so"),sol:F(H,"sol")};I.each(function(Q){var M=(Q.so)?"so":"m",P=M+"lw",R=M+"c",N=M+"lc",L=(Q[P]+1||H[P]+1||(Q.t?Q.t[P]:0)+1)-1,O=d3.select(this);O.attr("stroke-width",L).call(B.fillColor,K[M](Q[R]||H[R]||(Q.t?Q.t[R]:"")));if(L){O.call(B.strokeColor,K[M+"l"](Q[N]||H[N]||(Q.t?Q.t[N]:"")))}})};function F(K,H){var L;if((H+"scl") in K&&(H+"cmin") in K&&(H+"cmax") in K){var I=K[H+"scl"],J=K[H+"cmin"],G=K[H+"cmax"];if(typeof I=="string"&&I in Plotly.colorscales){I=Plotly.colorscales[I]}var N=I.map(function(O){return J+O[0]*(G-J)}),M=I.map(function(O){return O[1]});L=d3.scale.linear().domain(N).interpolate(d3.interpolateRgb).range(M);return function(O){return $.isNumeric(O)?L(O):O}}else{return Plotly.Lib.identity}}var E={start:1,end:-1,middle:0,bottom:1,top:-1};B.textPointStyle=function(H,G){H.each(function(N){var K=d3.select(this);if(!N.tx){K.remove();return }var O=N.tp||G.tp||(N.t?N.t.tp:""),P=O.indexOf("top")!=-1?"top":O.indexOf("bottom")!=-1?"bottom":"middle",M=O.indexOf("left")!=-1?"end":O.indexOf("right")!=-1?"start":"middle",Q=N.ts||G.ts||(N.t?N.t.tf:""),J=G.mode.indexOf("markers")==-1?0:(((N.ms+1||G.ms+1||(N.t?N.t.ms:0)+1)-1)/1.6+1);K.style("opacity",(N.mo+1||G.mo+1||(N.t?N.t.mo:0)+1)-1).call(B.font,N.tf||G.tf||(N.t?N.t.tf:""),Q,N.tc||G.tc||(N.t?N.t.tc:"")).attr("text-anchor",M);B.styleText(K.node(),N.tx);var L=K.selectAll("tspan"),I=(L[0].length-1)*D+1;L.attr("dx",E[M]*J);K.attr("dy",Q*0.75+E[P]*J+(E[P]-1)*I*Q/2)})};var A={"mu":"\u03bc","times":"\u00d7","plusmn":"\u00b1"};var D=1.3;B.styleText=function(X,P,S){if(P===undefined){return }var R=d3.select(X),Q=["sub","sup","b","i","font","a"],M=new RegExp("\x01(\\/?(br|"+Q.join("|")+")(\\s[^\x01\x02]*)?\\/?)\x02","gi"),O=/\x01([A-Za-z]+|#[0-9]+);/g,U=new RegExp("&("+Object.keys(A).join("|")+");","g"),V;R.selectAll("tspan").remove();var L=P.replace(/&/g,"\x01").replace(O,"&$1;").replace(/\x01/g,"&amp;").replace(/</g,"\x01").replace(/>/g,"\x02").replace(M,"<$1>").replace(/(<br(\s[^<>]*)?\/?>|\n)/gi,"</l><l>").replace(/\x01/g,"&lt;").replace(/\x02/g,"&gt;");for(V in Q){var N=L.match(new RegExp("<"+Q[V],"gi")),G=N?N.length:0;var K=L.match(new RegExp("<\\/"+Q[V],"gi")),W=K?K.length:0;while(W<G){W++;L+="</"+Q[V]+">"}}var I=/(<[^<>]*=\s*)([^<>\s"']+)(\s|>)/g;while(L.match(I)){L=L.replace(I,'$1"$2"$3')}L=L.replace(U,"<c>$1</c>");var H=new DOMParser().parseFromString("<t><l>"+L+"</l></t>","text/xml").getElementsByTagName("t")[0].childNodes;if(H[0].nodeName=="parsererror"){R.text(P);$(R).tooltip({title:"Oops! We didn't get that. You can style text with HTML-like tags, but all tags except &lt;br&gt; must be closed, and sometimes you have to use &amp;gt; for &gt; and &amp;lt; for &lt;."}).tooltip("show")}else{for(V=0;V<H.length;V++){var T=R.append("tspan").attr("class","nl");if(V>0){T.attr("x",R.attr("x")).attr("dy",D*R.attr("font-size"))}Y(T,H[V].childNodes)}}if(S){var J=X.getBoundingClientRect();if(J.width===0||J.height===0){R.selectAll("tspan").remove();B.styleText(X,"XXXXX");R.attr("opacity",0)}}function Y(b,f){function a(g){(b.text()?b.append("tspan"):b).text(g)}var c={sup:function(g){g.attr("baseline-shift","super").attr("font-size","70%")},sub:function(g){g.attr("baseline-shift","sub").attr("font-size","70%")},b:function(g){g.attr("font-weight","bold")},i:function(g){g.attr("font-style","italic")},font:function(m,k){for(var l=0;l<k.length;l++){var h=k[l],o=h.name.toLowerCase(),g=h.nodeValue;if(o=="color"){m.call(B.fillColor,g)}else{m.attr("font-"+o,g)}}},a:function(m,k){for(var l=0;l<k.length;l++){var h=k[l],o=h.name.toLowerCase(),g=h.nodeValue;if(o=="href"){m.attr("xlink:xlink:href",g)}}m.attr("target","_blank")}};for(var Z=0;Z<f.length;Z++){var e=f[Z].nodeName.toLowerCase(),d=f[Z].childNodes;if(e=="#text"){a(f[Z].nodeValue)}else{if(e=="c"){a(A[d[0].nodeValue]||"?")}else{if(c[e]){Y(b.append(e=="a"?"a":"tspan").call(c[e],f[Z].attributes),d)}}}}}}}());(function(){var A=window.Plotly.Histogram={};A.calc=function(T,S){if(S.visible===false){return }var G,N,B,C,R;if(S.bardir=="h"){B=T.layout.yaxis;C=T.layout.xaxis}else{B=T.layout.xaxis;C=T.layout.yaxis}var E=Plotly.Axes.convertOne(S,S.type.charAt(9),B);if((S.autobinx!==false)||!("xbins" in S)){S.xbins=Plotly.Axes.autoBin(E,B,S.nbinsx)}var H=(typeof (S.xbins.size)=="string"),P=H?[]:S.xbins,Q,O,J=[],I=0,F=S.histnorm||"";G=[];N=[];R=S.xbins.start;while(R<S.xbins.end){Q=Plotly.Axes.tickIncrement(R,S.xbins.size);G.push((R+Q)/2);N.push(0);if(H){P.push(R)}J.push(F.indexOf("density")!=-1?1/(Q-R):1);R=Q}for(R=0;R<E.length;R++){O=Plotly.Lib.findBin(E[R],P);if(O>=0&&O<N.length){N[O]+=J[O];I++}}if(F.indexOf("percent")!=-1){I/=100}if(F.indexOf("probability")!=-1||F.indexOf("percent")!=-1){N.forEach(function(U,V){N[V]/=I})}var K=Math.min(G.length,N.length),M=[],L=0,D=K-1;for(R=0;R<K;R++){if(N[R]){L=R;break}}for(R=K-1;R>L;R--){if(N[R]){D=R;break}}for(R=L;R<=D;R++){if(($.isNumeric(G[R])&&$.isNumeric(N[R]))){M.push({p:G[R],s:N[R],b:0})}}return M}}())